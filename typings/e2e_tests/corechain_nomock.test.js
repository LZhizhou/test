"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const e2etestlib_1 = require("./e2etestlib");
const api_1 = require("src/apis/keystore/api");
const bn_js_1 = __importDefault(require("bn.js"));
describe("CoreChain", () => {
    let tx = { value: "" };
    let addrB = { value: "" };
    let addrC = { value: "" };
    let createdAllychainID = { value: "" };
    const axia = (0, e2etestlib_1.getAxia)();
    const corechain = axia.CoreChain();
    const keystore = new api_1.KeystoreAPI(axia);
    const now = new Date().getTime();
    const startTime = new Date(now + 800);
    const endTime = new Date(now + 50000);
    const stakeAmount = new bn_js_1.default(200000000000);
    const user = "axiaJscoreChainUser";
    const passwd = "axiaJsP@ssw4rd";
    const badUser = "asdfasdfsa";
    const badPass = "pass";
    const memo = "hello world";
    const whaleAddr = "Core-custom18jma8ppw3nhx5r4ap8clazz0dps7rv5u9xde7p";
    const key = "PrivateKey-ewoqjP7PxY4yr3iLTpLisriqt94hdyDFNgchSxGGztUrTXtNN";
    const nodeID = "NodeID-7Xhw2mDxuDS44j42TCB6U5579esbSt3Lg";
    const allychainID = "2bGsYJorY6X7RhjPBFs3kYjiNEHo4zGrD2eeyZbb43T2KKi7fM";
    const swapChainAddr = "Swap-custom18jma8ppw3nhx5r4ap8clazz0dps7rv5u9xde7p";
    const axiaBlockChainID = "2VvmkRw4yrz8tPrVnCCbvEK1JxNyujpqhmU6SGonxMpkWBx9UD";
    const rewardUTXOTxID = "2nmH8LithVbdjaXsxVQCQfXtzN9hBbmebrsaEYnLM9T32Uy2Y4";
    // test_name        response_promise                            resp_fn          matcher           expected_value/obtained_value
    const tests_spec = [
        [
            "createUser",
            () => keystore.createUser(user, passwd),
            (x) => x,
            e2etestlib_1.Matcher.toBe,
            () => true
        ],
        [
            "createaddrB",
            () => corechain.createAddress(user, passwd),
            (x) => x,
            e2etestlib_1.Matcher.Get,
            () => addrB
        ],
        [
            "createaddrC",
            () => corechain.createAddress(user, passwd),
            (x) => x,
            e2etestlib_1.Matcher.Get,
            () => addrC
        ],
        [
            "incorrectUser",
            () => corechain.listAddresses(badUser, passwd),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => `problem retrieving user "${badUser}": incorrect password for user "${badUser}"`
        ],
        [
            "incorrectPass",
            () => corechain.listAddresses(user, badPass),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => `problem retrieving user "${user}": incorrect password for user "${user}"`
        ],
        [
            "getBalance",
            () => corechain.getBalance(whaleAddr),
            (x) => x.balance,
            e2etestlib_1.Matcher.toBe,
            () => "30000000000000000"
        ],
        [
            "getBalance2",
            () => corechain.getBalance(whaleAddr),
            (x) => x.utxoIDs[0].txID,
            e2etestlib_1.Matcher.toBe,
            () => "11111111111111111111111111111111LpoYY"
        ],
        [
            "getBlockchainsC",
            () => corechain.getBlockchains(),
            (x) => x[0].id,
            e2etestlib_1.Matcher.toBe,
            () => "BR28ypgLATNS6PbtHMiJ7NQ61vfpT27Hj8tAcZ1AHsfU5cz88"
        ],
        [
            "getBlockchainsX",
            () => corechain.getBlockchains(),
            (x) => x[1].id,
            e2etestlib_1.Matcher.toBe,
            () => "qzfF3A11KzpcHkkqznEyQgupQrCNS6WV6fTUTwZpEKqhj1QE7"
        ],
        [
            "getBlockchainStatus",
            () => corechain.getBlockchainStatus(axiaBlockChainID),
            (x) => x,
            e2etestlib_1.Matcher.toBe,
            () => "Created"
        ],
        [
            "getCurrentSupply",
            () => corechain.getCurrentSupply(),
            (x) => {
                return x.toString();
            },
            e2etestlib_1.Matcher.toBe,
            () => "361196333750752149"
        ],
        [
            "getHeight",
            () => corechain.getHeight(),
            (x) => x.toString(),
            e2etestlib_1.Matcher.toEqual,
            () => "0"
        ],
        [
            "getMinStake",
            () => corechain.getMinStake(),
            (x) => {
                return x.minNominatorStake.toString();
            },
            e2etestlib_1.Matcher.toBe,
            () => "25000000000"
        ],
        [
            "importKey",
            () => corechain.importKey(user, passwd, key),
            (x) => x,
            e2etestlib_1.Matcher.toBe,
            () => whaleAddr
        ],
        [
            "listAddrs",
            () => corechain.listAddresses(user, passwd),
            (x) => x.sort(),
            e2etestlib_1.Matcher.toEqual,
            () => [whaleAddr, addrB.value, addrC.value].sort()
        ],
        [
            "createAllychain",
            () => corechain.createAllychain(user, passwd, [whaleAddr], 1),
            (x) => {
                return x;
            },
            e2etestlib_1.Matcher.Get,
            () => createdAllychainID
        ],
        [
            "getCurrentValidators",
            () => corechain.getCurrentValidators(),
            (x) => x.validators.length,
            e2etestlib_1.Matcher.toBe,
            () => 5
        ],
        [
            "getRewardUTXOs",
            () => corechain.getRewardUTXOs(rewardUTXOTxID),
            (x) => x.utxos.length,
            e2etestlib_1.Matcher.toBe,
            () => 0
        ],
        [
            "getStakeOutputs",
            () => corechain.getStake([whaleAddr]),
            (x) => x.stakedOutputs.length,
            e2etestlib_1.Matcher.toBe,
            () => 0
        ],
        [
            "getStake",
            () => corechain.getStake([whaleAddr]),
            (x) => x.staked.toString(),
            e2etestlib_1.Matcher.toBe,
            () => "0"
        ],
        [
            "addNominator",
            () => corechain.addNominator(user, passwd, nodeID, startTime, endTime, stakeAmount, whaleAddr),
            (x) => {
                return x;
            },
            e2etestlib_1.Matcher.toThrow,
            () => "couldn't unmarshal an argument. Ensure arguments are valid and properly formatted. See documentation for example calls"
        ],
        [
            "addValidator",
            () => corechain.addValidator(user, passwd, nodeID, startTime, endTime, stakeAmount, whaleAddr, new bn_js_1.default(10)),
            (x) => {
                return x;
            },
            e2etestlib_1.Matcher.toThrow,
            () => "couldn't unmarshal an argument. Ensure arguments are valid and properly formatted. See documentation for example calls"
        ],
        [
            "exportKey",
            () => corechain.exportKey(user, passwd, addrB.value),
            (x) => x,
            e2etestlib_1.Matcher.toMatch,
            () => /PrivateKey-\w*/
        ],
        // [
        //   "exportAXC",
        //   () => corechain.exportAXC(user, passwd, new BN(10), swapChainAddr),
        //   (x) => x,
        //   Matcher.toThrow,
        //   () =>
        //     "failed semanticVerifySpend: failed to read consumed UTXO 11111111111111111111111111111111LpoYY:0 due to: not found"
        // ],
        [
            "getTx",
            () => corechain.getTx(tx.value),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => "couldn't unmarshal an argument. Ensure arguments are valid and properly formatted. See documentation for example calls"
        ],
        [
            "getTxStatus",
            () => corechain.getTxStatus("2JxmsgSJxMrddRUsKCxAagdvax3s6kY9xiivyzHRMqFfuRjFi2"),
            (x) => x,
            e2etestlib_1.Matcher.toEqual,
            () => ({ status: "Unknown" })
        ],
        [
            "importAXC",
            () => corechain.importAXC(user, passwd, addrB.value, "Swap"),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => "no spendable funds were found"
        ]
    ];
    (0, e2etestlib_1.createTests)(tests_spec);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29yZWNoYWluX25vbW9jay50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vZTJlX3Rlc3RzL2NvcmVjaGFpbl9ub21vY2sudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDZDQUE0RDtBQUM1RCwrQ0FBbUQ7QUFDbkQsa0RBQXNCO0FBRXRCLFFBQVEsQ0FBQyxXQUFXLEVBQUUsR0FBUyxFQUFFO0lBQy9CLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBQ3RCLElBQUksS0FBSyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBQ3pCLElBQUksS0FBSyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBQ3pCLElBQUksa0JBQWtCLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUE7SUFFdEMsTUFBTSxJQUFJLEdBQUcsSUFBQSxvQkFBTyxHQUFFLENBQUE7SUFDdEIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFBO0lBQ2xDLE1BQU0sUUFBUSxHQUFHLElBQUksaUJBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUV0QyxNQUFNLEdBQUcsR0FBVyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQ3hDLE1BQU0sU0FBUyxHQUFTLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQTtJQUMzQyxNQUFNLE9BQU8sR0FBUyxJQUFJLElBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUE7SUFDM0MsTUFBTSxXQUFXLEdBQU8sSUFBSSxlQUFFLENBQUMsWUFBWSxDQUFDLENBQUE7SUFFNUMsTUFBTSxJQUFJLEdBQVcscUJBQXFCLENBQUE7SUFDMUMsTUFBTSxNQUFNLEdBQVcsZ0JBQWdCLENBQUE7SUFDdkMsTUFBTSxPQUFPLEdBQVcsWUFBWSxDQUFBO0lBQ3BDLE1B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QUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BELENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ1Isb0JBQU8sQ0FBQyxPQUFPO1lBQ2YsR0FBRyxFQUFFLENBQUMsZ0JBQWdCO1NBQ3ZCO1FBQ0QsSUFBSTtRQUNKLGlCQUFpQjtRQUNqQix3RUFBd0U7UUFDeEUsY0FBYztRQUNkLHFCQUFxQjtRQUNyQixVQUFVO1FBQ1YsMkhBQTJIO1FBQzNILEtBQUs7UUFDTDtZQUNFLE9BQU87WUFDUCxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDL0IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDUixvQkFBTyxDQUFDLE9BQU87WUFDZixHQUFHLEVBQUUsQ0FDSCx3SEFBd0g7U0FDM0g7UUFDRDtZQUNFLGFBQWE7WUFDYixHQUFHLEVBQUUsQ0FDSCxTQUFTLENBQUMsV0FBVyxDQUNuQixvREFBb0QsQ0FDckQ7WUFDSCxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNSLG9CQUFPLENBQUMsT0FBTztZQUNmLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLENBQUM7U0FDOUI7UUFDRDtZQUNFLFdBQVc7WUFDWCxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUM7WUFDNUQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDUixvQkFBTyxDQUFDLE9BQU87WUFDZixHQUFHLEVBQUUsQ0FBQywrQkFBK0I7U0FDdEM7S0FDRixDQUFBO0lBRUQsSUFBQSx3QkFBVyxFQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3pCLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXhpYSwgY3JlYXRlVGVzdHMsIE1hdGNoZXIgfSBmcm9tIFwiLi9lMmV0ZXN0bGliXCJcclxuaW1wb3J0IHsgS2V5c3RvcmVBUEkgfSBmcm9tIFwic3JjL2FwaXMva2V5c3RvcmUvYXBpXCJcclxuaW1wb3J0IEJOIGZyb20gXCJibi5qc1wiXHJcblxyXG5kZXNjcmliZShcIkNvcmVDaGFpblwiLCAoKTogdm9pZCA9PiB7XHJcbiAgbGV0IHR4ID0geyB2YWx1ZTogXCJcIiB9XHJcbiAgbGV0IGFkZHJCID0geyB2YWx1ZTogXCJcIiB9XHJcbiAgbGV0IGFkZHJDID0geyB2YWx1ZTogXCJcIiB9XHJcbiAgbGV0IGNyZWF0ZWRBbGx5Y2hhaW5JRCA9IHsgdmFsdWU6IFwiXCIgfVxyXG5cclxuICBjb25zdCBheGlhID0gZ2V0QXhpYSgpXHJcbiAgY29uc3QgY29yZWNoYWluID0gYXhpYS5Db3JlQ2hhaW4oKVxyXG4gIGNvbnN0IGtleXN0b3JlID0gbmV3IEtleXN0b3JlQVBJKGF4aWEpXHJcblxyXG4gIGNvbnN0IG5vdzogbnVtYmVyID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICBjb25zdCBzdGFydFRpbWU6IERhdGUgPSBuZXcgRGF0ZShub3cgKyA4MDApXHJcbiAgY29uc3QgZW5kVGltZTogRGF0ZSA9IG5ldyBEYXRlKG5vdyArIDUwMDAwKVxyXG4gIGNvbnN0IHN0YWtlQW1vdW50OiBCTiA9IG5ldyBCTigyMDAwMDAwMDAwMDApXHJcblxyXG4gIGNvbnN0IHVzZXI6IHN0cmluZyA9IFwiYXhpYUpzY29yZUNoYWluVXNlclwiXHJcbiAgY29uc3QgcGFzc3dkOiBzdHJpbmcgPSBcImF4aWFKc1BAc3N3NHJkXCJcclxuICBjb25zdCBiYWRVc2VyOiBzdHJpbmcgPSBcImFzZGZhc2Rmc2FcIlxyXG4gIGNvbnN0IGJhZFBhc3M6IHN0cmluZyA9IFwicGFzc1wiXHJcbiAgY29uc3QgbWVtbzogc3RyaW5nID0gXCJoZWxsbyB3b3JsZFwiXHJcbiAgY29uc3Qgd2hhbGVBZGRyOiBzdHJpbmcgPSBcIkNvcmUtY3VzdG9tMThqbWE4cHB3M25oeDVyNGFwOGNsYXp6MGRwczdydjV1OXhkZTdwXCJcclxuICBjb25zdCBrZXk6IHN0cmluZyA9XHJcbiAgICBcIlByaXZhdGVLZXktZXdvcWpQN1B4WTR5cjNpTFRwTGlzcmlxdDk0aGR5REZOZ2NoU3hHR3p0VXJUWHROTlwiXHJcbiAgY29uc3Qgbm9kZUlEOiBzdHJpbmcgPSBcIk5vZGVJRC03WGh3Mm1EeHVEUzQ0ajQyVENCNlU1NTc5ZXNiU3QzTGdcIlxyXG4gIGNvbnN0IGFsbHljaGFpbklEOiBzdHJpbmcgPSBcIjJiR3NZSm9yWTZYN1JoalBCRnMza1lqaU5FSG80ekdyRDJlZXlaYmI0M1QyS0tpN2ZNXCJcclxuICBjb25zdCBzd2FwQ2hhaW5BZGRyOiBzdHJpbmcgPSBcIlN3YXAtY3VzdG9tMThqbWE4cHB3M25oeDVyNGFwOGNsYXp6MGRwczdydjV1OXhkZTdwXCJcclxuICBjb25zdCBheGlhQmxvY2tDaGFpbklEOiBzdHJpbmcgPVxyXG4gICAgXCIyVnZta1J3NHlyejh0UHJWbkNDYnZFSzFKeE55dWpwcWhtVTZTR29ueE1wa1dCeDlVRFwiXHJcblxyXG4gIGNvbnN0IHJld2FyZFVUWE9UeElEOiBzdHJpbmcgPVxyXG4gICAgXCIybm1IOExpdGhWYmRqYVhzeFZRQ1FmWHR6TjloQmJtZWJyc2FFWW5MTTlUMzJVeTJZNFwiXHJcbiAgLy8gdGVzdF9uYW1lICAgICAgICByZXNwb25zZV9wcm9taXNlICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BfZm4gICAgICAgICAgbWF0Y2hlciAgICAgICAgICAgZXhwZWN0ZWRfdmFsdWUvb2J0YWluZWRfdmFsdWVcclxuICBjb25zdCB0ZXN0c19zcGVjOiBhbnkgPSBbXHJcbiAgICBbXHJcbiAgICAgIFwiY3JlYXRlVXNlclwiLFxyXG4gICAgICAoKSA9PiBrZXlzdG9yZS5jcmVhdGVVc2VyKHVzZXIsIHBhc3N3ZCksXHJcbiAgICAgICh4KSA9PiB4LFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IHRydWVcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiY3JlYXRlYWRkckJcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmNyZWF0ZUFkZHJlc3ModXNlciwgcGFzc3dkKSxcclxuICAgICAgKHgpID0+IHgsXHJcbiAgICAgIE1hdGNoZXIuR2V0LFxyXG4gICAgICAoKSA9PiBhZGRyQlxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgXCJjcmVhdGVhZGRyQ1wiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4uY3JlYXRlQWRkcmVzcyh1c2VyLCBwYXNzd2QpLFxyXG4gICAgICAoeCkgPT4geCxcclxuICAgICAgTWF0Y2hlci5HZXQsXHJcbiAgICAgICgpID0+IGFkZHJDXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICBcImluY29ycmVjdFVzZXJcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmxpc3RBZGRyZXNzZXMoYmFkVXNlciwgcGFzc3dkKSxcclxuICAgICAgKHgpID0+IHgsXHJcbiAgICAgIE1hdGNoZXIudG9UaHJvdyxcclxuICAgICAgKCkgPT5cclxuICAgICAgICBgcHJvYmxlbSByZXRyaWV2aW5nIHVzZXIgXCIke2JhZFVzZXJ9XCI6IGluY29ycmVjdCBwYXNzd29yZCBmb3IgdXNlciBcIiR7YmFkVXNlcn1cImBcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiaW5jb3JyZWN0UGFzc1wiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4ubGlzdEFkZHJlc3Nlcyh1c2VyLCBiYWRQYXNzKSxcclxuICAgICAgKHgpID0+IHgsXHJcbiAgICAgIE1hdGNoZXIudG9UaHJvdyxcclxuICAgICAgKCkgPT5cclxuICAgICAgICBgcHJvYmxlbSByZXRyaWV2aW5nIHVzZXIgXCIke3VzZXJ9XCI6IGluY29ycmVjdCBwYXNzd29yZCBmb3IgdXNlciBcIiR7dXNlcn1cImBcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZ2V0QmFsYW5jZVwiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4uZ2V0QmFsYW5jZSh3aGFsZUFkZHIpLFxyXG4gICAgICAoeCkgPT4geC5iYWxhbmNlLFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IFwiMzAwMDAwMDAwMDAwMDAwMDBcIlxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgXCJnZXRCYWxhbmNlMlwiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4uZ2V0QmFsYW5jZSh3aGFsZUFkZHIpLFxyXG4gICAgICAoeCkgPT4geC51dHhvSURzWzBdLnR4SUQsXHJcbiAgICAgIE1hdGNoZXIudG9CZSxcclxuICAgICAgKCkgPT4gXCIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMUxwb1lZXCJcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZ2V0QmxvY2tjaGFpbnNDXCIsXHJcbiAgICAgICgpID0+IGNvcmVjaGFpbi5nZXRCbG9ja2NoYWlucygpLFxyXG4gICAgICAoeCkgPT4geFswXS5pZCxcclxuICAgICAgTWF0Y2hlci50b0JlLFxyXG4gICAgICAoKSA9PiBcIkJSMjh5cGdMQVROUzZQYnRITWlKN05RNjF2ZnBUMjdIajh0QWNaMUFIc2ZVNWN6ODhcIlxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgXCJnZXRCbG9ja2NoYWluc1hcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldEJsb2NrY2hhaW5zKCksXHJcbiAgICAgICh4KSA9PiB4WzFdLmlkLFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IFwicXpmRjNBMTFLenBjSGtrcXpuRXlRZ3VwUXJDTlM2V1Y2ZlRVVHdacEVLcWhqMVFFN1wiXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICBcImdldEJsb2NrY2hhaW5TdGF0dXNcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldEJsb2NrY2hhaW5TdGF0dXMoYXhpYUJsb2NrQ2hhaW5JRCksXHJcbiAgICAgICh4KSA9PiB4LFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IFwiQ3JlYXRlZFwiXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICBcImdldEN1cnJlbnRTdXBwbHlcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldEN1cnJlbnRTdXBwbHkoKSxcclxuICAgICAgKHgpID0+IHtcclxuICAgICAgICByZXR1cm4geC50b1N0cmluZygpXHJcbiAgICAgIH0sXHJcbiAgICAgIE1hdGNoZXIudG9CZSxcclxuICAgICAgKCkgPT4gXCIzNjExOTYzMzM3NTA3NTIxNDlcIlxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgXCJnZXRIZWlnaHRcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldEhlaWdodCgpLFxyXG4gICAgICAoeCkgPT4geC50b1N0cmluZygpLFxyXG4gICAgICBNYXRjaGVyLnRvRXF1YWwsXHJcbiAgICAgICgpID0+IFwiMFwiXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICBcImdldE1pblN0YWtlXCIsXHJcbiAgICAgICgpID0+IGNvcmVjaGFpbi5nZXRNaW5TdGFrZSgpLFxyXG4gICAgICAoeCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB4Lm1pbk5vbWluYXRvclN0YWtlLnRvU3RyaW5nKClcclxuICAgICAgfSxcclxuICAgICAgTWF0Y2hlci50b0JlLFxyXG4gICAgICAoKSA9PiBcIjI1MDAwMDAwMDAwXCJcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiaW1wb3J0S2V5XCIsXHJcbiAgICAgICgpID0+IGNvcmVjaGFpbi5pbXBvcnRLZXkodXNlciwgcGFzc3dkLCBrZXkpLFxyXG4gICAgICAoeCkgPT4geCxcclxuICAgICAgTWF0Y2hlci50b0JlLFxyXG4gICAgICAoKSA9PiB3aGFsZUFkZHJcclxuICAgIF0sXHJcblxyXG4gICAgW1xyXG4gICAgICBcImxpc3RBZGRyc1wiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4ubGlzdEFkZHJlc3Nlcyh1c2VyLCBwYXNzd2QpLFxyXG4gICAgICAoeCkgPT4geC5zb3J0KCksXHJcbiAgICAgIE1hdGNoZXIudG9FcXVhbCxcclxuICAgICAgKCkgPT4gW3doYWxlQWRkciwgYWRkckIudmFsdWUsIGFkZHJDLnZhbHVlXS5zb3J0KClcclxuICAgIF0sXHJcblxyXG4gICAgW1xyXG4gICAgICBcImNyZWF0ZUFsbHljaGFpblwiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4uY3JlYXRlQWxseWNoYWluKHVzZXIsIHBhc3N3ZCwgW3doYWxlQWRkcl0sIDEpLFxyXG4gICAgICAoeCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB4XHJcbiAgICAgIH0sXHJcbiAgICAgIE1hdGNoZXIuR2V0LFxyXG4gICAgICAoKSA9PiBjcmVhdGVkQWxseWNoYWluSURcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZ2V0Q3VycmVudFZhbGlkYXRvcnNcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldEN1cnJlbnRWYWxpZGF0b3JzKCksXHJcbiAgICAgICh4KSA9PiB4LnZhbGlkYXRvcnMubGVuZ3RoLFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IDVcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZ2V0UmV3YXJkVVRYT3NcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldFJld2FyZFVUWE9zKHJld2FyZFVUWE9UeElEKSxcclxuICAgICAgKHgpID0+IHgudXR4b3MubGVuZ3RoLFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IDBcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZ2V0U3Rha2VPdXRwdXRzXCIsXHJcbiAgICAgICgpID0+IGNvcmVjaGFpbi5nZXRTdGFrZShbd2hhbGVBZGRyXSksXHJcbiAgICAgICh4KSA9PiB4LnN0YWtlZE91dHB1dHMubGVuZ3RoLFxyXG4gICAgICBNYXRjaGVyLnRvQmUsXHJcbiAgICAgICgpID0+IDBcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZ2V0U3Rha2VcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmdldFN0YWtlKFt3aGFsZUFkZHJdKSxcclxuICAgICAgKHgpID0+IHguc3Rha2VkLnRvU3RyaW5nKCksXHJcbiAgICAgIE1hdGNoZXIudG9CZSxcclxuICAgICAgKCkgPT4gXCIwXCJcclxuICAgIF0sXHJcblxyXG4gICAgW1xyXG4gICAgICBcImFkZE5vbWluYXRvclwiLFxyXG4gICAgICAoKSA9PlxyXG4gICAgICAgIGNvcmVjaGFpbi5hZGROb21pbmF0b3IoXHJcbiAgICAgICAgICB1c2VyLFxyXG4gICAgICAgICAgcGFzc3dkLFxyXG4gICAgICAgICAgbm9kZUlELFxyXG4gICAgICAgICAgc3RhcnRUaW1lLFxyXG4gICAgICAgICAgZW5kVGltZSxcclxuICAgICAgICAgIHN0YWtlQW1vdW50LFxyXG4gICAgICAgICAgd2hhbGVBZGRyXHJcbiAgICAgICAgKSxcclxuICAgICAgKHgpID0+IHtcclxuICAgICAgICByZXR1cm4geFxyXG4gICAgICB9LFxyXG4gICAgICBNYXRjaGVyLnRvVGhyb3csXHJcbiAgICAgICgpID0+XHJcbiAgICAgICAgXCJjb3VsZG4ndCB1bm1hcnNoYWwgYW4gYXJndW1lbnQuIEVuc3VyZSBhcmd1bWVudHMgYXJlIHZhbGlkIGFuZCBwcm9wZXJseSBmb3JtYXR0ZWQuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBleGFtcGxlIGNhbGxzXCJcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiYWRkVmFsaWRhdG9yXCIsXHJcbiAgICAgICgpID0+XHJcbiAgICAgICAgY29yZWNoYWluLmFkZFZhbGlkYXRvcihcclxuICAgICAgICAgIHVzZXIsXHJcbiAgICAgICAgICBwYXNzd2QsXHJcbiAgICAgICAgICBub2RlSUQsXHJcbiAgICAgICAgICBzdGFydFRpbWUsXHJcbiAgICAgICAgICBlbmRUaW1lLFxyXG4gICAgICAgICAgc3Rha2VBbW91bnQsXHJcbiAgICAgICAgICB3aGFsZUFkZHIsXHJcbiAgICAgICAgICBuZXcgQk4oMTApXHJcbiAgICAgICAgKSxcclxuICAgICAgKHgpID0+IHtcclxuICAgICAgICByZXR1cm4geFxyXG4gICAgICB9LFxyXG4gICAgICBNYXRjaGVyLnRvVGhyb3csXHJcbiAgICAgICgpID0+XHJcbiAgICAgICAgXCJjb3VsZG4ndCB1bm1hcnNoYWwgYW4gYXJndW1lbnQuIEVuc3VyZSBhcmd1bWVudHMgYXJlIHZhbGlkIGFuZCBwcm9wZXJseSBmb3JtYXR0ZWQuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBleGFtcGxlIGNhbGxzXCJcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgIFwiZXhwb3J0S2V5XCIsXHJcbiAgICAgICgpID0+IGNvcmVjaGFpbi5leHBvcnRLZXkodXNlciwgcGFzc3dkLCBhZGRyQi52YWx1ZSksXHJcbiAgICAgICh4KSA9PiB4LFxyXG4gICAgICBNYXRjaGVyLnRvTWF0Y2gsXHJcbiAgICAgICgpID0+IC9Qcml2YXRlS2V5LVxcdyovXHJcbiAgICBdLFxyXG4gICAgLy8gW1xyXG4gICAgLy8gICBcImV4cG9ydEFYQ1wiLFxyXG4gICAgLy8gICAoKSA9PiBjb3JlY2hhaW4uZXhwb3J0QVhDKHVzZXIsIHBhc3N3ZCwgbmV3IEJOKDEwKSwgc3dhcENoYWluQWRkciksXHJcbiAgICAvLyAgICh4KSA9PiB4LFxyXG4gICAgLy8gICBNYXRjaGVyLnRvVGhyb3csXHJcbiAgICAvLyAgICgpID0+XHJcbiAgICAvLyAgICAgXCJmYWlsZWQgc2VtYW50aWNWZXJpZnlTcGVuZDogZmFpbGVkIHRvIHJlYWQgY29uc3VtZWQgVVRYTyAxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMUxwb1lZOjAgZHVlIHRvOiBub3QgZm91bmRcIlxyXG4gICAgLy8gXSxcclxuICAgIFtcclxuICAgICAgXCJnZXRUeFwiLFxyXG4gICAgICAoKSA9PiBjb3JlY2hhaW4uZ2V0VHgodHgudmFsdWUpLFxyXG4gICAgICAoeCkgPT4geCxcclxuICAgICAgTWF0Y2hlci50b1Rocm93LFxyXG4gICAgICAoKSA9PlxyXG4gICAgICAgIFwiY291bGRuJ3QgdW5tYXJzaGFsIGFuIGFyZ3VtZW50LiBFbnN1cmUgYXJndW1lbnRzIGFyZSB2YWxpZCBhbmQgcHJvcGVybHkgZm9ybWF0dGVkLiBTZWUgZG9jdW1lbnRhdGlvbiBmb3IgZXhhbXBsZSBjYWxsc1wiXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICBcImdldFR4U3RhdHVzXCIsXHJcbiAgICAgICgpID0+XHJcbiAgICAgICAgY29yZWNoYWluLmdldFR4U3RhdHVzKFxyXG4gICAgICAgICAgXCIySnhtc2dTSnhNcmRkUlVzS0N4QWFnZHZheDNzNmtZOXhpaXZ5ekhSTXFGZnVSakZpMlwiXHJcbiAgICAgICAgKSxcclxuICAgICAgKHgpID0+IHgsXHJcbiAgICAgIE1hdGNoZXIudG9FcXVhbCxcclxuICAgICAgKCkgPT4gKHsgc3RhdHVzOiBcIlVua25vd25cIiB9KVxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgXCJpbXBvcnRBWENcIixcclxuICAgICAgKCkgPT4gY29yZWNoYWluLmltcG9ydEFYQyh1c2VyLCBwYXNzd2QsIGFkZHJCLnZhbHVlLCBcIlN3YXBcIiksXHJcbiAgICAgICh4KSA9PiB4LFxyXG4gICAgICBNYXRjaGVyLnRvVGhyb3csXHJcbiAgICAgICgpID0+IFwibm8gc3BlbmRhYmxlIGZ1bmRzIHdlcmUgZm91bmRcIlxyXG4gICAgXVxyXG4gIF1cclxuXHJcbiAgY3JlYXRlVGVzdHModGVzdHNfc3BlYylcclxufSkiXX0=