"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const e2etestlib_1 = require("./e2etestlib");
const api_1 = require("src/apis/keystore/api");
const bn_js_1 = __importDefault(require("bn.js"));
describe("PChain", () => {
    let tx = { value: "" };
    let addrB = { value: "" };
    let addrC = { value: "" };
    let createdSubnetID = { value: "" };
    const axia = (0, e2etestlib_1.getAxia)();
    const pchain = axia.PChain();
    const keystore = new api_1.KeystoreAPI(axia);
    const now = new Date().getTime();
    const startTime = new Date(now + 800);
    const endTime = new Date(now + 50000);
    const stakeAmount = new bn_js_1.default(200000000000);
    const user = "axiaJspChainUser";
    const passwd = "axiaJsP@ssw4rd";
    const badUser = "asdfasdfsa";
    const badPass = "pass";
    const memo = "hello world";
    const whaleAddr = "P-custom18jma8ppw3nhx5r4ap8clazz0dps7rv5u9xde7p";
    const key = "PrivateKey-ewoqjP7PxY4yr3iLTpLisriqt94hdyDFNgchSxGGztUrTXtNN";
    const nodeID = "NodeID-7Xhw2mDxuDS44j42TCB6U5579esbSt3Lg";
    const subnetID = "2bGsYJorY6X7RhjPBFs3kYjiNEHo4zGrD2eeyZbb43T2KKi7fM";
    const xChainAddr = "X-custom18jma8ppw3nhx5r4ap8clazz0dps7rv5u9xde7p";
    const axiaBlockChainID = "2VvmkRw4yrz8tPrVnCCbvEK1JxNyujpqhmU6SGonxMpkWBx9UD";
    const rewardUTXOTxID = "2nmH8LithVbdjaXsxVQCQfXtzN9hBbmebrsaEYnLM9T32Uy2Y4";
    // test_name        response_promise                            resp_fn          matcher           expected_value/obtained_value
    const tests_spec = [
        [
            "createUser",
            () => keystore.createUser(user, passwd),
            (x) => x,
            e2etestlib_1.Matcher.toBe,
            () => true
        ],
        [
            "createaddrB",
            () => pchain.createAddress(user, passwd),
            (x) => x,
            e2etestlib_1.Matcher.Get,
            () => addrB
        ],
        [
            "createaddrC",
            () => pchain.createAddress(user, passwd),
            (x) => x,
            e2etestlib_1.Matcher.Get,
            () => addrC
        ],
        [
            "incorrectUser",
            () => pchain.listAddresses(badUser, passwd),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => `problem retrieving user "${badUser}": incorrect password for user "${badUser}"`
        ],
        [
            "incorrectPass",
            () => pchain.listAddresses(user, badPass),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => `problem retrieving user "${user}": incorrect password for user "${user}"`
        ],
        [
            "getBalance",
            () => pchain.getBalance(whaleAddr),
            (x) => x.balance,
            e2etestlib_1.Matcher.toBe,
            () => "30000000000000000"
        ],
        [
            "getBalance2",
            () => pchain.getBalance(whaleAddr),
            (x) => x.utxoIDs[0].txID,
            e2etestlib_1.Matcher.toBe,
            () => "11111111111111111111111111111111LpoYY"
        ],
        [
            "getBlockchainsC",
            () => pchain.getBlockchains(),
            (x) => x[0].id,
            e2etestlib_1.Matcher.toBe,
            () => "BR28ypgLATNS6PbtHMiJ7NQ61vfpT27Hj8tAcZ1AHsfU5cz88"
        ],
        [
            "getBlockchainsX",
            () => pchain.getBlockchains(),
            (x) => x[1].id,
            e2etestlib_1.Matcher.toBe,
            () => "qzfF3A11KzpcHkkqznEyQgupQrCNS6WV6fTUTwZpEKqhj1QE7"
        ],
        [
            "getBlockchainStatus",
            () => pchain.getBlockchainStatus(axiaBlockChainID),
            (x) => x,
            e2etestlib_1.Matcher.toBe,
            () => "Created"
        ],
        [
            "getCurrentSupply",
            () => pchain.getCurrentSupply(),
            (x) => {
                return x.toString();
            },
            e2etestlib_1.Matcher.toBe,
            () => "361196333750752149"
        ],
        [
            "getHeight",
            () => pchain.getHeight(),
            (x) => x.toString(),
            e2etestlib_1.Matcher.toEqual,
            () => "0"
        ],
        [
            "getMinStake",
            () => pchain.getMinStake(),
            (x) => {
                return x.minDelegatorStake.toString();
            },
            e2etestlib_1.Matcher.toBe,
            () => "25000000000"
        ],
        [
            "importKey",
            () => pchain.importKey(user, passwd, key),
            (x) => x,
            e2etestlib_1.Matcher.toBe,
            () => whaleAddr
        ],
        [
            "listAddrs",
            () => pchain.listAddresses(user, passwd),
            (x) => x.sort(),
            e2etestlib_1.Matcher.toEqual,
            () => [whaleAddr, addrB.value, addrC.value].sort()
        ],
        [
            "createSubnet",
            () => pchain.createSubnet(user, passwd, [whaleAddr], 1),
            (x) => {
                return x;
            },
            e2etestlib_1.Matcher.Get,
            () => createdSubnetID
        ],
        [
            "getCurrentValidators",
            () => pchain.getCurrentValidators(),
            (x) => x.validators.length,
            e2etestlib_1.Matcher.toBe,
            () => 5
        ],
        [
            "getRewardUTXOs",
            () => pchain.getRewardUTXOs(rewardUTXOTxID),
            (x) => x.utxos.length,
            e2etestlib_1.Matcher.toBe,
            () => 0
        ],
        [
            "getStakeOutputs",
            () => pchain.getStake([whaleAddr]),
            (x) => x.stakedOutputs.length,
            e2etestlib_1.Matcher.toBe,
            () => 0
        ],
        [
            "getStake",
            () => pchain.getStake([whaleAddr]),
            (x) => x.staked.toString(),
            e2etestlib_1.Matcher.toBe,
            () => "0"
        ],
        [
            "addDelegator",
            () => pchain.addDelegator(user, passwd, nodeID, startTime, endTime, stakeAmount, whaleAddr),
            (x) => {
                return x;
            },
            e2etestlib_1.Matcher.toThrow,
            () => "couldn't unmarshal an argument. Ensure arguments are valid and properly formatted. See documentation for example calls"
        ],
        [
            "addValidator",
            () => pchain.addValidator(user, passwd, nodeID, startTime, endTime, stakeAmount, whaleAddr, new bn_js_1.default(10)),
            (x) => {
                return x;
            },
            e2etestlib_1.Matcher.toThrow,
            () => "couldn't unmarshal an argument. Ensure arguments are valid and properly formatted. See documentation for example calls"
        ],
        [
            "exportKey",
            () => pchain.exportKey(user, passwd, addrB.value),
            (x) => x,
            e2etestlib_1.Matcher.toMatch,
            () => /PrivateKey-\w*/
        ],
        // [
        //   "exportAXC",
        //   () => pchain.exportAXC(user, passwd, new BN(10), xChainAddr),
        //   (x) => x,
        //   Matcher.toThrow,
        //   () =>
        //     "failed semanticVerifySpend: failed to read consumed UTXO 11111111111111111111111111111111LpoYY:0 due to: not found"
        // ],
        [
            "getTx",
            () => pchain.getTx(tx.value),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => "couldn't unmarshal an argument. Ensure arguments are valid and properly formatted. See documentation for example calls"
        ],
        [
            "getTxStatus",
            () => pchain.getTxStatus("2JxmsgSJxMrddRUsKCxAagdvax3s6kY9xiivyzHRMqFfuRjFi2"),
            (x) => x,
            e2etestlib_1.Matcher.toEqual,
            () => ({ status: "Unknown" })
        ],
        [
            "importAXC",
            () => pchain.importAXC(user, passwd, addrB.value, "X"),
            (x) => x,
            e2etestlib_1.Matcher.toThrow,
            () => "no spendable funds were found"
        ]
    ];
    (0, e2etestlib_1.createTests)(tests_spec);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGNoYWluX25vbW9jay50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vZTJlX3Rlc3RzL3BjaGFpbl9ub21vY2sudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDZDQUE0RDtBQUM1RCwrQ0FBbUQ7QUFDbkQsa0RBQXNCO0FBRXRCLFFBQVEsQ0FBQyxRQUFRLEVBQUUsR0FBUyxFQUFFO0lBQzVCLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBQ3RCLElBQUksS0FBSyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBQ3pCLElBQUksS0FBSyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBQ3pCLElBQUksZUFBZSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBRW5DLE1BQU0sSUFBSSxHQUFHLElBQUEsb0JBQU8sR0FBRSxDQUFBO0lBQ3RCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQTtJQUM1QixNQUFNLFFBQVEsR0FBRyxJQUFJLGlCQUFXLENBQUMsSUFBSSxDQUFDLENBQUE7SUFFdEMsTUFBTSxHQUFHLEdBQVcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUN4QyxNQUFNLFNBQVMsR0FBUyxJQUFJLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUE7SUFDM0MsTUFBTSxPQUFPLEdBQVMsSUFBSSxJQUFJLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFBO0lBQzNDLE1BQU0sV0FBVyxHQUFPLElBQUksZUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFBO0lBRTVDLE1BQU0sSUFBSSxHQUFXLGtCQUFrQixDQUFBO0lBQ3ZDLE1BQU0sTUFBTSxHQUFXLGdCQUFnQixDQUFBO0lBQ3ZDLE1BQU0sT0FBTyxHQUFXLFlBQVksQ0FBQTtJQUNwQyxNQUFNLE9BQU8s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LEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDakQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDUixvQkFBTyxDQUFDLE9BQU87WUFDZixHQUFHLEVBQUUsQ0FBQyxnQkFBZ0I7U0FDdkI7UUFDRCxJQUFJO1FBQ0osaUJBQWlCO1FBQ2pCLGtFQUFrRTtRQUNsRSxjQUFjO1FBQ2QscUJBQXFCO1FBQ3JCLFVBQVU7UUFDViwySEFBMkg7UUFDM0gsS0FBSztRQUNMO1lBQ0UsT0FBTztZQUNQLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUM1QixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNSLG9CQUFPLENBQUMsT0FBTztZQUNmLEdBQUcsRUFBRSxDQUNILHdIQUF3SDtTQUMzSDtRQUNEO1lBQ0UsYUFBYTtZQUNiLEdBQUcsRUFBRSxDQUNILE1BQU0sQ0FBQyxXQUFXLENBQ2hCLG9EQUFvRCxDQUNyRDtZQUNILENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ1Isb0JBQU8sQ0FBQyxPQUFPO1lBQ2YsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsQ0FBQztTQUM5QjtRQUNEO1lBQ0UsV0FBVztZQUNYLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQztZQUN0RCxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNSLG9CQUFPLENBQUMsT0FBTztZQUNmLEdBQUcsRUFBRSxDQUFDLCtCQUErQjtTQUN0QztLQUNGLENBQUE7SUFFRCxJQUFBLHdCQUFXLEVBQUMsVUFBVSxDQUFDLENBQUE7QUFDekIsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRBeGlhLCBjcmVhdGVUZXN0cywgTWF0Y2hlciB9IGZyb20gXCIuL2UyZXRlc3RsaWJcIlxuaW1wb3J0IHsgS2V5c3RvcmVBUEkgfSBmcm9tIFwic3JjL2FwaXMva2V5c3RvcmUvYXBpXCJcbmltcG9ydCBCTiBmcm9tIFwiYm4uanNcIlxuXG5kZXNjcmliZShcIlBDaGFpblwiLCAoKTogdm9pZCA9PiB7XG4gIGxldCB0eCA9IHsgdmFsdWU6IFwiXCIgfVxuICBsZXQgYWRkckIgPSB7IHZhbHVlOiBcIlwiIH1cbiAgbGV0IGFkZHJDID0geyB2YWx1ZTogXCJcIiB9XG4gIGxldCBjcmVhdGVkU3VibmV0SUQgPSB7IHZhbHVlOiBcIlwiIH1cblxuICBjb25zdCBheGlhID0gZ2V0QXhpYSgpXG4gIGNvbnN0IHBjaGFpbiA9IGF4aWEuUENoYWluKClcbiAgY29uc3Qga2V5c3RvcmUgPSBuZXcgS2V5c3RvcmVBUEkoYXhpYSlcblxuICBjb25zdCBub3c6IG51bWJlciA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gIGNvbnN0IHN0YXJ0VGltZTogRGF0ZSA9IG5ldyBEYXRlKG5vdyArIDgwMClcbiAgY29uc3QgZW5kVGltZTogRGF0ZSA9IG5ldyBEYXRlKG5vdyArIDUwMDAwKVxuICBjb25zdCBzdGFrZUFtb3VudDogQk4gPSBuZXcgQk4oMjAwMDAwMDAwMDAwKVxuXG4gIGNvbnN0IHVzZXI6IHN0cmluZyA9IFwiYXhpYUpzcENoYWluVXNlclwiXG4gIGNvbnN0IHBhc3N3ZDogc3RyaW5nID0gXCJheGlhSnNQQHNzdzRyZFwiXG4gIGNvbnN0IGJhZFVzZXI6IHN0cmluZyA9IFwiYXNkZmFzZGZzYVwiXG4gIGNvbnN0IGJhZFBhc3M6IHN0cmluZyA9IFwicGFzc1wiXG4gIGNvbnN0IG1lbW86IHN0cmluZyA9IFwiaGVsbG8gd29ybGRcIlxuICBjb25zdCB3aGFsZUFkZHI6IHN0cmluZyA9IFwiUC1jdXN0b20xOGptYThwcHczbmh4NXI0YXA4Y2xhenowZHBzN3J2NXU5eGRlN3BcIlxuICBjb25zdCBrZXk6IHN0cmluZyA9XG4gICAgXCJQcml2YXRlS2V5LWV3b3FqUDdQeFk0eXIzaUxUcExpc3JpcXQ5NGhkeURGTmdjaFN4R0d6dFVyVFh0Tk5cIlxuICBjb25zdCBub2RlSUQ6IHN0cmluZyA9IFwiTm9kZUlELTdYaHcybUR4dURTNDRqNDJUQ0I2VTU1Nzllc2JTdDNMZ1wiXG4gIGNvbnN0IHN1Ym5ldElEOiBzdHJpbmcgPSBcIjJiR3NZSm9yWTZYN1JoalBCRnMza1lqaU5FSG80ekdyRDJlZXlaYmI0M1QyS0tpN2ZNXCJcbiAgY29uc3QgeENoYWluQWRkcjogc3RyaW5nID0gXCJYLWN1c3RvbTE4am1hOHBwdzNuaHg1cjRhcDhjbGF6ejBkcHM3cnY1dTl4ZGU3cFwiXG4gIGNvbnN0IGF4aWFCbG9ja0NoYWluSUQ6IHN0cmluZyA9XG4gICAgXCIyVnZta1J3NHlyejh0UHJWbkNDYnZFSzFKeE55dWpwcWhtVTZTR29ueE1wa1dCeDlVRFwiXG5cbiAgY29uc3QgcmV3YXJkVVRYT1R4SUQ6IHN0cmluZyA9XG4gICAgXCIybm1IOExpdGhWYmRqYVhzeFZRQ1FmWHR6TjloQmJtZWJyc2FFWW5MTTlUMzJVeTJZNFwiXG4gIC8vIHRlc3RfbmFtZSAgICAgICAgcmVzcG9uc2VfcHJvbWlzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwX2ZuICAgICAgICAgIG1hdGNoZXIgICAgICAgICAgIGV4cGVjdGVkX3ZhbHVlL29idGFpbmVkX3ZhbHVlXG4gIGNvbnN0IHRlc3RzX3NwZWM6IGFueSA9IFtcbiAgICBbXG4gICAgICBcImNyZWF0ZVVzZXJcIixcbiAgICAgICgpID0+IGtleXN0b3JlLmNyZWF0ZVVzZXIodXNlciwgcGFzc3dkKSxcbiAgICAgICh4KSA9PiB4LFxuICAgICAgTWF0Y2hlci50b0JlLFxuICAgICAgKCkgPT4gdHJ1ZVxuICAgIF0sXG4gICAgW1xuICAgICAgXCJjcmVhdGVhZGRyQlwiLFxuICAgICAgKCkgPT4gcGNoYWluLmNyZWF0ZUFkZHJlc3ModXNlciwgcGFzc3dkKSxcbiAgICAgICh4KSA9PiB4LFxuICAgICAgTWF0Y2hlci5HZXQsXG4gICAgICAoKSA9PiBhZGRyQlxuICAgIF0sXG4gICAgW1xuICAgICAgXCJjcmVhdGVhZGRyQ1wiLFxuICAgICAgKCkgPT4gcGNoYWluLmNyZWF0ZUFkZHJlc3ModXNlciwgcGFzc3dkKSxcbiAgICAgICh4KSA9PiB4LFxuICAgICAgTWF0Y2hlci5HZXQsXG4gICAgICAoKSA9PiBhZGRyQ1xuICAgIF0sXG4gICAgW1xuICAgICAgXCJpbmNvcnJlY3RVc2VyXCIsXG4gICAgICAoKSA9PiBwY2hhaW4ubGlzdEFkZHJlc3NlcyhiYWRVc2VyLCBwYXNzd2QpLFxuICAgICAgKHgpID0+IHgsXG4gICAgICBNYXRjaGVyLnRvVGhyb3csXG4gICAgICAoKSA9PlxuICAgICAgICBgcHJvYmxlbSByZXRyaWV2aW5nIHVzZXIgXCIke2JhZFVzZXJ9XCI6IGluY29ycmVjdCBwYXNzd29yZCBmb3IgdXNlciBcIiR7YmFkVXNlcn1cImBcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiaW5jb3JyZWN0UGFzc1wiLFxuICAgICAgKCkgPT4gcGNoYWluLmxpc3RBZGRyZXNzZXModXNlciwgYmFkUGFzcyksXG4gICAgICAoeCkgPT4geCxcbiAgICAgIE1hdGNoZXIudG9UaHJvdyxcbiAgICAgICgpID0+XG4gICAgICAgIGBwcm9ibGVtIHJldHJpZXZpbmcgdXNlciBcIiR7dXNlcn1cIjogaW5jb3JyZWN0IHBhc3N3b3JkIGZvciB1c2VyIFwiJHt1c2VyfVwiYFxuICAgIF0sXG4gICAgW1xuICAgICAgXCJnZXRCYWxhbmNlXCIsXG4gICAgICAoKSA9PiBwY2hhaW4uZ2V0QmFsYW5jZSh3aGFsZUFkZHIpLFxuICAgICAgKHgpID0+IHguYmFsYW5jZSxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwiMzAwMDAwMDAwMDAwMDAwMDBcIlxuICAgIF0sXG4gICAgW1xuICAgICAgXCJnZXRCYWxhbmNlMlwiLFxuICAgICAgKCkgPT4gcGNoYWluLmdldEJhbGFuY2Uod2hhbGVBZGRyKSxcbiAgICAgICh4KSA9PiB4LnV0eG9JRHNbMF0udHhJRCxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwiMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFMcG9ZWVwiXG4gICAgXSxcbiAgICBbXG4gICAgICBcImdldEJsb2NrY2hhaW5zQ1wiLFxuICAgICAgKCkgPT4gcGNoYWluLmdldEJsb2NrY2hhaW5zKCksXG4gICAgICAoeCkgPT4geFswXS5pZCxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwiQlIyOHlwZ0xBVE5TNlBidEhNaUo3TlE2MXZmcFQyN0hqOHRBY1oxQUhzZlU1Y3o4OFwiXG4gICAgXSxcbiAgICBbXG4gICAgICBcImdldEJsb2NrY2hhaW5zWFwiLFxuICAgICAgKCkgPT4gcGNoYWluLmdldEJsb2NrY2hhaW5zKCksXG4gICAgICAoeCkgPT4geFsxXS5pZCxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwicXpmRjNBMTFLenBjSGtrcXpuRXlRZ3VwUXJDTlM2V1Y2ZlRVVHdacEVLcWhqMVFFN1wiXG4gICAgXSxcbiAgICBbXG4gICAgICBcImdldEJsb2NrY2hhaW5TdGF0dXNcIixcbiAgICAgICgpID0+IHBjaGFpbi5nZXRCbG9ja2NoYWluU3RhdHVzKGF4aWFCbG9ja0NoYWluSUQpLFxuICAgICAgKHgpID0+IHgsXG4gICAgICBNYXRjaGVyLnRvQmUsXG4gICAgICAoKSA9PiBcIkNyZWF0ZWRcIlxuICAgIF0sXG4gICAgW1xuICAgICAgXCJnZXRDdXJyZW50U3VwcGx5XCIsXG4gICAgICAoKSA9PiBwY2hhaW4uZ2V0Q3VycmVudFN1cHBseSgpLFxuICAgICAgKHgpID0+IHtcbiAgICAgICAgcmV0dXJuIHgudG9TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwiMzYxMTk2MzMzNzUwNzUyMTQ5XCJcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiZ2V0SGVpZ2h0XCIsXG4gICAgICAoKSA9PiBwY2hhaW4uZ2V0SGVpZ2h0KCksXG4gICAgICAoeCkgPT4geC50b1N0cmluZygpLFxuICAgICAgTWF0Y2hlci50b0VxdWFsLFxuICAgICAgKCkgPT4gXCIwXCJcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiZ2V0TWluU3Rha2VcIixcbiAgICAgICgpID0+IHBjaGFpbi5nZXRNaW5TdGFrZSgpLFxuICAgICAgKHgpID0+IHtcbiAgICAgICAgcmV0dXJuIHgubWluRGVsZWdhdG9yU3Rha2UudG9TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwiMjUwMDAwMDAwMDBcIlxuICAgIF0sXG4gICAgW1xuICAgICAgXCJpbXBvcnRLZXlcIixcbiAgICAgICgpID0+IHBjaGFpbi5pbXBvcnRLZXkodXNlciwgcGFzc3dkLCBrZXkpLFxuICAgICAgKHgpID0+IHgsXG4gICAgICBNYXRjaGVyLnRvQmUsXG4gICAgICAoKSA9PiB3aGFsZUFkZHJcbiAgICBdLFxuXG4gICAgW1xuICAgICAgXCJsaXN0QWRkcnNcIixcbiAgICAgICgpID0+IHBjaGFpbi5saXN0QWRkcmVzc2VzKHVzZXIsIHBhc3N3ZCksXG4gICAgICAoeCkgPT4geC5zb3J0KCksXG4gICAgICBNYXRjaGVyLnRvRXF1YWwsXG4gICAgICAoKSA9PiBbd2hhbGVBZGRyLCBhZGRyQi52YWx1ZSwgYWRkckMudmFsdWVdLnNvcnQoKVxuICAgIF0sXG5cbiAgICBbXG4gICAgICBcImNyZWF0ZVN1Ym5ldFwiLFxuICAgICAgKCkgPT4gcGNoYWluLmNyZWF0ZVN1Ym5ldCh1c2VyLCBwYXNzd2QsIFt3aGFsZUFkZHJdLCAxKSxcbiAgICAgICh4KSA9PiB7XG4gICAgICAgIHJldHVybiB4XG4gICAgICB9LFxuICAgICAgTWF0Y2hlci5HZXQsXG4gICAgICAoKSA9PiBjcmVhdGVkU3VibmV0SURcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiZ2V0Q3VycmVudFZhbGlkYXRvcnNcIixcbiAgICAgICgpID0+IHBjaGFpbi5nZXRDdXJyZW50VmFsaWRhdG9ycygpLFxuICAgICAgKHgpID0+IHgudmFsaWRhdG9ycy5sZW5ndGgsXG4gICAgICBNYXRjaGVyLnRvQmUsXG4gICAgICAoKSA9PiA1XG4gICAgXSxcbiAgICBbXG4gICAgICBcImdldFJld2FyZFVUWE9zXCIsXG4gICAgICAoKSA9PiBwY2hhaW4uZ2V0UmV3YXJkVVRYT3MocmV3YXJkVVRYT1R4SUQpLFxuICAgICAgKHgpID0+IHgudXR4b3MubGVuZ3RoLFxuICAgICAgTWF0Y2hlci50b0JlLFxuICAgICAgKCkgPT4gMFxuICAgIF0sXG4gICAgW1xuICAgICAgXCJnZXRTdGFrZU91dHB1dHNcIixcbiAgICAgICgpID0+IHBjaGFpbi5nZXRTdGFrZShbd2hhbGVBZGRyXSksXG4gICAgICAoeCkgPT4geC5zdGFrZWRPdXRwdXRzLmxlbmd0aCxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IDBcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiZ2V0U3Rha2VcIixcbiAgICAgICgpID0+IHBjaGFpbi5nZXRTdGFrZShbd2hhbGVBZGRyXSksXG4gICAgICAoeCkgPT4geC5zdGFrZWQudG9TdHJpbmcoKSxcbiAgICAgIE1hdGNoZXIudG9CZSxcbiAgICAgICgpID0+IFwiMFwiXG4gICAgXSxcblxuICAgIFtcbiAgICAgIFwiYWRkRGVsZWdhdG9yXCIsXG4gICAgICAoKSA9PlxuICAgICAgICBwY2hhaW4uYWRkRGVsZWdhdG9yKFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgcGFzc3dkLFxuICAgICAgICAgIG5vZGVJRCxcbiAgICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICBzdGFrZUFtb3VudCxcbiAgICAgICAgICB3aGFsZUFkZHJcbiAgICAgICAgKSxcbiAgICAgICh4KSA9PiB7XG4gICAgICAgIHJldHVybiB4XG4gICAgICB9LFxuICAgICAgTWF0Y2hlci50b1Rocm93LFxuICAgICAgKCkgPT5cbiAgICAgICAgXCJjb3VsZG4ndCB1bm1hcnNoYWwgYW4gYXJndW1lbnQuIEVuc3VyZSBhcmd1bWVudHMgYXJlIHZhbGlkIGFuZCBwcm9wZXJseSBmb3JtYXR0ZWQuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBleGFtcGxlIGNhbGxzXCJcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiYWRkVmFsaWRhdG9yXCIsXG4gICAgICAoKSA9PlxuICAgICAgICBwY2hhaW4uYWRkVmFsaWRhdG9yKFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgcGFzc3dkLFxuICAgICAgICAgIG5vZGVJRCxcbiAgICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgICAgZW5kVGltZSxcbiAgICAgICAgICBzdGFrZUFtb3VudCxcbiAgICAgICAgICB3aGFsZUFkZHIsXG4gICAgICAgICAgbmV3IEJOKDEwKVxuICAgICAgICApLFxuICAgICAgKHgpID0+IHtcbiAgICAgICAgcmV0dXJuIHhcbiAgICAgIH0sXG4gICAgICBNYXRjaGVyLnRvVGhyb3csXG4gICAgICAoKSA9PlxuICAgICAgICBcImNvdWxkbid0IHVubWFyc2hhbCBhbiBhcmd1bWVudC4gRW5zdXJlIGFyZ3VtZW50cyBhcmUgdmFsaWQgYW5kIHByb3Blcmx5IGZvcm1hdHRlZC4gU2VlIGRvY3VtZW50YXRpb24gZm9yIGV4YW1wbGUgY2FsbHNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgXCJleHBvcnRLZXlcIixcbiAgICAgICgpID0+IHBjaGFpbi5leHBvcnRLZXkodXNlciwgcGFzc3dkLCBhZGRyQi52YWx1ZSksXG4gICAgICAoeCkgPT4geCxcbiAgICAgIE1hdGNoZXIudG9NYXRjaCxcbiAgICAgICgpID0+IC9Qcml2YXRlS2V5LVxcdyovXG4gICAgXSxcbiAgICAvLyBbXG4gICAgLy8gICBcImV4cG9ydEFYQ1wiLFxuICAgIC8vICAgKCkgPT4gcGNoYWluLmV4cG9ydEFYQyh1c2VyLCBwYXNzd2QsIG5ldyBCTigxMCksIHhDaGFpbkFkZHIpLFxuICAgIC8vICAgKHgpID0+IHgsXG4gICAgLy8gICBNYXRjaGVyLnRvVGhyb3csXG4gICAgLy8gICAoKSA9PlxuICAgIC8vICAgICBcImZhaWxlZCBzZW1hbnRpY1ZlcmlmeVNwZW5kOiBmYWlsZWQgdG8gcmVhZCBjb25zdW1lZCBVVFhPIDExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExTHBvWVk6MCBkdWUgdG86IG5vdCBmb3VuZFwiXG4gICAgLy8gXSxcbiAgICBbXG4gICAgICBcImdldFR4XCIsXG4gICAgICAoKSA9PiBwY2hhaW4uZ2V0VHgodHgudmFsdWUpLFxuICAgICAgKHgpID0+IHgsXG4gICAgICBNYXRjaGVyLnRvVGhyb3csXG4gICAgICAoKSA9PlxuICAgICAgICBcImNvdWxkbid0IHVubWFyc2hhbCBhbiBhcmd1bWVudC4gRW5zdXJlIGFyZ3VtZW50cyBhcmUgdmFsaWQgYW5kIHByb3Blcmx5IGZvcm1hdHRlZC4gU2VlIGRvY3VtZW50YXRpb24gZm9yIGV4YW1wbGUgY2FsbHNcIlxuICAgIF0sXG4gICAgW1xuICAgICAgXCJnZXRUeFN0YXR1c1wiLFxuICAgICAgKCkgPT5cbiAgICAgICAgcGNoYWluLmdldFR4U3RhdHVzKFxuICAgICAgICAgIFwiMkp4bXNnU0p4TXJkZFJVc0tDeEFhZ2R2YXgzczZrWTl4aWl2eXpIUk1xRmZ1UmpGaTJcIlxuICAgICAgICApLFxuICAgICAgKHgpID0+IHgsXG4gICAgICBNYXRjaGVyLnRvRXF1YWwsXG4gICAgICAoKSA9PiAoeyBzdGF0dXM6IFwiVW5rbm93blwiIH0pXG4gICAgXSxcbiAgICBbXG4gICAgICBcImltcG9ydEFYQ1wiLFxuICAgICAgKCkgPT4gcGNoYWluLmltcG9ydEFYQyh1c2VyLCBwYXNzd2QsIGFkZHJCLnZhbHVlLCBcIlhcIiksXG4gICAgICAoeCkgPT4geCxcbiAgICAgIE1hdGNoZXIudG9UaHJvdyxcbiAgICAgICgpID0+IFwibm8gc3BlbmRhYmxlIGZ1bmRzIHdlcmUgZm91bmRcIlxuICAgIF1cbiAgXVxuXG4gIGNyZWF0ZVRlc3RzKHRlc3RzX3NwZWMpXG59KSJdfQ==