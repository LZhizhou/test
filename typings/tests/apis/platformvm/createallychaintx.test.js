"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const buffer_1 = require("buffer/");
const constants_1 = require("../../../src/apis/platformvm/constants");
const platformvm_1 = require("src/apis/platformvm");
describe("CreateAllychainTx", () => {
    const createAllychainTxHex = "0000053900000000000000000000000000000000000000000000000000000000000000000000000117cc8b1578ba383544d163958822d8abd3849bb9dfabe39fcbc3e7ee8811fe2f00000007006a94d69c2656c0000000000000000000000001000000023cb7d3842e8cee6a0ebd09f1fe884f6861e1b29ca43c1f6ecdcb1fcec86d78446b9cf619c64c604b00000001ec7f57aeda7824b9d785e5ca631d96ef7323988a9fcfc6832cbc73ac4b27f7040000000017cc8b1578ba383544d163958822d8abd3849bb9dfabe39fcbc3e7ee8811fe2f00000005006a94d6d7c120c00000000100000000000000594d616e75616c6c79206372656174652061204372656174655375626e657454782077686963682063726561746573206120312d6f662d322041564158207574786f20616e64206120322d6f662d33205375626e6574417574680000000b000000000000000000000002000000035c412ef1414c4903c49dffc0ba9286c47fa27689a43c1f6ecdcb1fcec86d78446b9cf619c64c604be6b2bba9288c499d477327292839728ab52e902c";
    const createAllychainTxBuf = buffer_1.Buffer.from(createAllychainTxHex, "hex");
    const createAllychainTx = new platformvm_1.CreateAllychainTx();
    createAllychainTx.fromBuffer(createAllychainTxBuf);
    test("getTypeName", () => __awaiter(void 0, void 0, void 0, function* () {
        const createAllychainTxTypeName = createAllychainTx.getTypeName();
        expect(createAllychainTxTypeName).toBe("CreateAllychainTx");
    }));
    test("getTypeID", () => __awaiter(void 0, void 0, void 0, function* () {
        const createAllychainTxTypeID = createAllychainTx.getTypeID();
        expect(createAllychainTxTypeID).toBe(constants_1.PlatformVMConstants.CREATEALLYCHAINTX);
    }));
    test("toBuffer and fromBuffer", () => __awaiter(void 0, void 0, void 0, function* () {
        const buf = createAllychainTx.toBuffer();
        const csTx = new platformvm_1.CreateAllychainTx();
        csTx.fromBuffer(buf);
        const buf2 = csTx.toBuffer();
        expect(buf.toString("hex")).toBe(buf2.toString("hex"));
    }));
    describe("AllychainOwners", () => {
        const allychainOwners = createAllychainTx.getAllychainOwners();
        test("getTypeName", () => __awaiter(void 0, void 0, void 0, function* () {
            const allychainOwnersTypeName = allychainOwners.getTypeName();
            expect(allychainOwnersTypeName).toBe("SECPOwnerOutput");
        }));
        test("getTypeID", () => __awaiter(void 0, void 0, void 0, function* () {
            const allychainOwnersTypeID = allychainOwners.getTypeID();
            expect(allychainOwnersTypeID).toBe(constants_1.PlatformVMConstants.SECPOWNEROUTPUTID);
        }));
        test("getOutputID", () => __awaiter(void 0, void 0, void 0, function* () {
            const outputID = allychainOwners.getOutputID();
            expect(outputID).toBe(constants_1.PlatformVMConstants.SECPOWNEROUTPUTID);
        }));
        test("get addresses", () => __awaiter(void 0, void 0, void 0, function* () {
            const addresses = allychainOwners.getAddresses();
            expect(addresses.length).toBe(3);
        }));
        test("get threshold", () => __awaiter(void 0, void 0, void 0, function* () {
            const threshold = allychainOwners.getThreshold();
            expect(threshold).toBe(2);
        }));
        test("get locktime", () => __awaiter(void 0, void 0, void 0, function* () {
            const locktime = allychainOwners.getLocktime();
            expect(locktime.toNumber()).toBe(0);
        }));
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlYWxseWNoYWludHgudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Rlc3RzL2FwaXMvcGxhdGZvcm12bS9jcmVhdGVhbGx5Y2hhaW50eC50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0Esb0NBQWdDO0FBRWhDLHNFQUE0RTtBQUM1RSxvREFBdUQ7QUFFdkQsUUFBUSxDQUFDLG1CQUFtQixFQUFFLEdBQVMsRUFBRTtJQUN2QyxNQUFNLG9CQUFvQixHQUN4Qiw0eUJBQTR5QixDQUFBO0lBQzl5QixNQUFNLG9CQUFvQixHQUFXLGVBQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDN0UsTUFBTSxpQkFBaUIsR0FBc0IsSUFBSSw4QkFBaUIsRUFBRSxDQUFBO0lBQ3BFLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO0lBRWxELElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBd0IsRUFBRTtRQUM1QyxNQUFNLHlCQUF5QixHQUFXLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxDQUFBO1FBQ3pFLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0lBQzdELENBQUMsQ0FBQSxDQUFDLENBQUE7SUFFRixJQUFJLENBQUMsV0FBVyxFQUFFLEdBQXdCLEVBQUU7UUFDMUMsTUFBTSx1QkFBdUIsR0FBVyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUNyRSxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxJQUFJLENBQUMsK0JBQW1CLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtJQUM3RSxDQUFDLENBQUEsQ0FBQyxDQUFBO0lBRUYsSUFBSSxDQUFDLHlCQUF5QixFQUFFLEdBQXdCLEVBQUU7UUFDeEQsTUFBTSxHQUFHLEdBQVcsaUJBQWlCLENBQUMsUUFBUSxFQUFFLENBQUE7UUFDaEQsTUFBTSxJQUFJLEdBQXNCLElBQUksOEJBQWlCLEVBQUUsQ0FBQTtRQUN2RCxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLE1BQU0sSUFBSSxHQUFXLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQTtRQUNwQyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7SUFDeEQsQ0FBQyxDQUFBLENBQUMsQ0FBQTtJQUVGLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFTLEVBQUU7UUFDckMsTUFBTSxlQUFlLEdBQ25CLGlCQUFpQixDQUFDLGtCQUFrQixFQUFFLENBQUE7UUFFeEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUF3QixFQUFFO1lBQzVDLE1BQU0sdUJBQXVCLEdBQVcsZUFBZSxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ3JFLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO1FBQ3pELENBQUMsQ0FBQSxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsV0FBVyxFQUFFLEdBQXdCLEVBQUU7WUFDMUMsTUFBTSxxQkFBcUIsR0FBVyxlQUFlLENBQUMsU0FBUyxFQUFFLENBQUE7WUFDakUsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUMsSUFBSSxDQUFDLCtCQUFtQixDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDM0UsQ0FBQyxDQUFBLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBd0IsRUFBRTtZQUM1QyxNQUFNLFFBQVEsR0FBVyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDdEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQywrQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO1FBQzlELENBQUMsQ0FBQSxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsZUFBZSxFQUFFLEdBQXdCLEVBQUU7WUFDOUMsTUFBTSxTQUFTLEdBQWEsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFBO1lBQzFELE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xDLENBQUMsQ0FBQSxDQUFDLENBQUE7UUFFRixJQUFJLENBQUMsZUFBZSxFQUFFLEdBQXdCLEVBQUU7WUFDOUMsTUFBTSxTQUFTLEdBQVcsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFBO1lBQ3hELE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0IsQ0FBQyxDQUFBLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxjQUFjLEVBQUUsR0FBd0IsRUFBRTtZQUM3QyxNQUFNLFFBQVEsR0FBTyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDbEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNyQyxDQUFDLENBQUEsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCTiBmcm9tIFwiYm4uanNcIlxyXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyL1wiXHJcbmltcG9ydCB7IFNFQ1BPd25lck91dHB1dCB9IGZyb20gXCIuLi8uLi8uLi9zcmMvYXBpcy9wbGF0Zm9ybXZtL291dHB1dHNcIlxyXG5pbXBvcnQgeyBQbGF0Zm9ybVZNQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uLy4uL3NyYy9hcGlzL3BsYXRmb3Jtdm0vY29uc3RhbnRzXCJcclxuaW1wb3J0IHsgQ3JlYXRlQWxseWNoYWluVHggfSBmcm9tIFwic3JjL2FwaXMvcGxhdGZvcm12bVwiXHJcblxyXG5kZXNjcmliZShcIkNyZWF0ZUFsbHljaGFpblR4XCIsICgpOiB2b2lkID0+IHtcclxuICBjb25zdCBjcmVhdGVBbGx5Y2hhaW5UeEhleDogc3RyaW5nID1cclxuICAgIFwiMDAwMDA1MzkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDExN2NjOGIxNTc4YmEzODM1NDRkMTYzOTU4ODIyZDhhYmQzODQ5YmI5ZGZhYmUzOWZjYmMzZTdlZTg4MTFmZTJmMDAwMDAwMDcwMDZhOTRkNjljMjY1NmMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDAwMDAwMDIzY2I3ZDM4NDJlOGNlZTZhMGViZDA5ZjFmZTg4NGY2ODYxZTFiMjljYTQzYzFmNmVjZGNiMWZjZWM4NmQ3ODQ0NmI5Y2Y2MTljNjRjNjA0YjAwMDAwMDAxZWM3ZjU3YWVkYTc4MjRiOWQ3ODVlNWNhNjMxZDk2ZWY3MzIzOTg4YTlmY2ZjNjgzMmNiYzczYWM0YjI3ZjcwNDAwMDAwMDAwMTdjYzhiMTU3OGJhMzgzNTQ0ZDE2Mzk1ODgyMmQ4YWJkMzg0OWJiOWRmYWJlMzlmY2JjM2U3ZWU4ODExZmUyZjAwMDAwMDA1MDA2YTk0ZDZkN2MxMjBjMDAwMDAwMDAxMDAwMDAwMDAwMDAwMDA1OTRkNjE2ZTc1NjE2YzZjNzkyMDYzNzI2NTYxNzQ2NTIwNjEyMDQzNzI2NTYxNzQ2NTUzNzU2MjZlNjU3NDU0NzgyMDc3Njg2OTYzNjgyMDYzNzI2NTYxNzQ2NTczMjA2MTIwMzEyZDZmNjYyZDMyMjA0MTU2NDE1ODIwNzU3NDc4NmYyMDYxNmU2NDIwNjEyMDMyMmQ2ZjY2MmQzMzIwNTM3NTYyNmU2NTc0NDE3NTc0NjgwMDAwMDAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjAwMDAwMDAzNWM0MTJlZjE0MTRjNDkwM2M0OWRmZmMwYmE5Mjg2YzQ3ZmEyNzY4OWE0M2MxZjZlY2RjYjFmY2VjODZkNzg0NDZiOWNmNjE5YzY0YzYwNGJlNmIyYmJhOTI4OGM0OTlkNDc3MzI3MjkyODM5NzI4YWI1MmU5MDJjXCJcclxuICBjb25zdCBjcmVhdGVBbGx5Y2hhaW5UeEJ1ZjogQnVmZmVyID0gQnVmZmVyLmZyb20oY3JlYXRlQWxseWNoYWluVHhIZXgsIFwiaGV4XCIpXHJcbiAgY29uc3QgY3JlYXRlQWxseWNoYWluVHg6IENyZWF0ZUFsbHljaGFpblR4ID0gbmV3IENyZWF0ZUFsbHljaGFpblR4KClcclxuICBjcmVhdGVBbGx5Y2hhaW5UeC5mcm9tQnVmZmVyKGNyZWF0ZUFsbHljaGFpblR4QnVmKVxyXG5cclxuICB0ZXN0KFwiZ2V0VHlwZU5hbWVcIiwgYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgY29uc3QgY3JlYXRlQWxseWNoYWluVHhUeXBlTmFtZTogc3RyaW5nID0gY3JlYXRlQWxseWNoYWluVHguZ2V0VHlwZU5hbWUoKVxyXG4gICAgZXhwZWN0KGNyZWF0ZUFsbHljaGFpblR4VHlwZU5hbWUpLnRvQmUoXCJDcmVhdGVBbGx5Y2hhaW5UeFwiKVxyXG4gIH0pXHJcblxyXG4gIHRlc3QoXCJnZXRUeXBlSURcIiwgYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgY29uc3QgY3JlYXRlQWxseWNoYWluVHhUeXBlSUQ6IG51bWJlciA9IGNyZWF0ZUFsbHljaGFpblR4LmdldFR5cGVJRCgpXHJcbiAgICBleHBlY3QoY3JlYXRlQWxseWNoYWluVHhUeXBlSUQpLnRvQmUoUGxhdGZvcm1WTUNvbnN0YW50cy5DUkVBVEVBTExZQ0hBSU5UWClcclxuICB9KVxyXG5cclxuICB0ZXN0KFwidG9CdWZmZXIgYW5kIGZyb21CdWZmZXJcIiwgYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgY29uc3QgYnVmOiBCdWZmZXIgPSBjcmVhdGVBbGx5Y2hhaW5UeC50b0J1ZmZlcigpXHJcbiAgICBjb25zdCBjc1R4OiBDcmVhdGVBbGx5Y2hhaW5UeCA9IG5ldyBDcmVhdGVBbGx5Y2hhaW5UeCgpXHJcbiAgICBjc1R4LmZyb21CdWZmZXIoYnVmKVxyXG4gICAgY29uc3QgYnVmMjogQnVmZmVyID0gY3NUeC50b0J1ZmZlcigpXHJcbiAgICBleHBlY3QoYnVmLnRvU3RyaW5nKFwiaGV4XCIpKS50b0JlKGJ1ZjIudG9TdHJpbmcoXCJoZXhcIikpXHJcbiAgfSlcclxuXHJcbiAgZGVzY3JpYmUoXCJBbGx5Y2hhaW5Pd25lcnNcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgYWxseWNoYWluT3duZXJzOiBTRUNQT3duZXJPdXRwdXQgPVxyXG4gICAgICBjcmVhdGVBbGx5Y2hhaW5UeC5nZXRBbGx5Y2hhaW5Pd25lcnMoKVxyXG5cclxuICAgIHRlc3QoXCJnZXRUeXBlTmFtZVwiLCBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgIGNvbnN0IGFsbHljaGFpbk93bmVyc1R5cGVOYW1lOiBzdHJpbmcgPSBhbGx5Y2hhaW5Pd25lcnMuZ2V0VHlwZU5hbWUoKVxyXG4gICAgICBleHBlY3QoYWxseWNoYWluT3duZXJzVHlwZU5hbWUpLnRvQmUoXCJTRUNQT3duZXJPdXRwdXRcIilcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcImdldFR5cGVJRFwiLCBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgIGNvbnN0IGFsbHljaGFpbk93bmVyc1R5cGVJRDogbnVtYmVyID0gYWxseWNoYWluT3duZXJzLmdldFR5cGVJRCgpXHJcbiAgICAgIGV4cGVjdChhbGx5Y2hhaW5Pd25lcnNUeXBlSUQpLnRvQmUoUGxhdGZvcm1WTUNvbnN0YW50cy5TRUNQT1dORVJPVVRQVVRJRClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcImdldE91dHB1dElEXCIsIGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0SUQ6IG51bWJlciA9IGFsbHljaGFpbk93bmVycy5nZXRPdXRwdXRJRCgpXHJcbiAgICAgIGV4cGVjdChvdXRwdXRJRCkudG9CZShQbGF0Zm9ybVZNQ29uc3RhbnRzLlNFQ1BPV05FUk9VVFBVVElEKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KFwiZ2V0IGFkZHJlc3Nlc1wiLCBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgIGNvbnN0IGFkZHJlc3NlczogQnVmZmVyW10gPSBhbGx5Y2hhaW5Pd25lcnMuZ2V0QWRkcmVzc2VzKClcclxuICAgICAgZXhwZWN0KGFkZHJlc3Nlcy5sZW5ndGgpLnRvQmUoMylcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcImdldCB0aHJlc2hvbGRcIiwgYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICBjb25zdCB0aHJlc2hvbGQ6IG51bWJlciA9IGFsbHljaGFpbk93bmVycy5nZXRUaHJlc2hvbGQoKVxyXG4gICAgICBleHBlY3QodGhyZXNob2xkKS50b0JlKDIpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJnZXQgbG9ja3RpbWVcIiwgYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICBjb25zdCBsb2NrdGltZTogQk4gPSBhbGx5Y2hhaW5Pd25lcnMuZ2V0TG9ja3RpbWUoKVxyXG4gICAgICBleHBlY3QobG9ja3RpbWUudG9OdW1iZXIoKSkudG9CZSgwKVxyXG4gICAgfSlcclxuICB9KVxyXG59KVxyXG4iXX0=