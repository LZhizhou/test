"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const bn_js_1 = __importDefault(require("bn.js"));
const buffer_1 = require("buffer/");
const bintools_1 = __importDefault(require("../../../src/utils/bintools"));
const outputs_1 = require("../../../src/apis/avm/outputs");
const output_1 = require("../../../src/common/output");
const outputs_2 = require("../../../src/apis/avm/outputs");
const avm_1 = require("../../../src/apis/avm");
const bintools = bintools_1.default.getInstance();
describe("Outputs", () => {
    const codecID_zero = 0;
    const codecID_one = 1;
    describe("NFTMintOutput", () => {
        const addrs = [
            bintools.cb58Decode("B6D4v1VtPYLbiUvYXtW4Px8oE9imC2vGW"),
            bintools.cb58Decode("P5wdRuZeaDt28eHMP5S3w9ZdoBfo7wuzF"),
            bintools.cb58Decode("6Y3kysjF9jnHnYkdS9yGAuoHyae2eNmeV")
        ].sort();
        const locktime = new bn_js_1.default(54321);
        const addrpay = [addrs[0], addrs[1]];
        const fallLocktime = locktime.add(new bn_js_1.default(50));
        test("SelectOutputClass", () => {
            const goodout = new outputs_1.NFTMintOutput(0, addrpay, fallLocktime, 1);
            const outpayment = (0, outputs_1.SelectOutputClass)(goodout.getOutputID());
            expect(outpayment).toBeInstanceOf(outputs_1.NFTMintOutput);
            expect(() => {
                (0, outputs_1.SelectOutputClass)(99);
            }).toThrow("Error - SelectOutputClass: unknown outputid");
        });
        test("comparator", () => {
            const outpayment1 = new outputs_1.NFTMintOutput(1, addrs, fallLocktime, 1);
            const outpayment2 = new outputs_1.NFTMintOutput(2, addrs, fallLocktime, 1);
            const outpayment3 = new outputs_1.NFTMintOutput(0, addrs, fallLocktime, 1);
            const cmp = output_1.Output.comparator();
            expect(cmp(outpayment1, outpayment1)).toBe(0);
            expect(cmp(outpayment2, outpayment2)).toBe(0);
            expect(cmp(outpayment3, outpayment3)).toBe(0);
            expect(cmp(outpayment1, outpayment2)).toBe(-1);
            expect(cmp(outpayment1, outpayment3)).toBe(1);
        });
        test("NFTMintOutput codecIDs", () => {
            const nftMintOutput = new outputs_1.NFTMintOutput(1, addrs, fallLocktime, 1);
            expect(nftMintOutput.getCodecID()).toBe(codecID_zero);
            expect(nftMintOutput.getOutputID()).toBe(avm_1.AVMConstants.NFTMINTOUTPUTID);
            nftMintOutput.setCodecID(codecID_one);
            expect(nftMintOutput.getCodecID()).toBe(codecID_one);
            expect(nftMintOutput.getOutputID()).toBe(avm_1.AVMConstants.NFTMINTOUTPUTID_CODECONE);
            nftMintOutput.setCodecID(codecID_zero);
            expect(nftMintOutput.getCodecID()).toBe(codecID_zero);
            expect(nftMintOutput.getOutputID()).toBe(avm_1.AVMConstants.NFTMINTOUTPUTID);
        });
        test("Invalid NFTMintOutput codecID", () => {
            const nftMintOutput = new outputs_1.NFTMintOutput(1, addrs, fallLocktime, 1);
            expect(() => {
                nftMintOutput.setCodecID(2);
            }).toThrow("Error - NFTMintOutput.setCodecID: invalid codecID. Valid codecIDs are 0 and 1.");
        });
        test("Functionality", () => {
            const out = new outputs_1.NFTMintOutput(0, addrs, fallLocktime, 3);
            expect(out.getOutputID()).toBe(10);
            expect(JSON.stringify(out.getAddresses().sort())).toStrictEqual(JSON.stringify(addrs.sort()));
            expect(out.getThreshold()).toBe(3);
            // expect(out.getLocktime().toNumber()).toBe(locktime.toNumber())
            const r = out.getAddressIdx(addrs[2]);
            expect(out.getAddress(r)).toStrictEqual(addrs[2]);
            expect(() => {
                out.getAddress(400);
            }).toThrow();
            const b = out.toBuffer();
            expect(out.toString()).toBe(bintools.bufferToB58(b));
            const s = out.getSpenders(addrs);
            expect(JSON.stringify(s.sort())).toBe(JSON.stringify(addrs.sort()));
            const m1 = out.meetsThreshold([addrs[0]]);
            expect(m1).toBe(false);
            const m2 = out.meetsThreshold(addrs, new bn_js_1.default(100));
            expect(m2).toBe(false);
            const m3 = out.meetsThreshold(addrs);
            expect(m3).toBe(true);
            const m4 = out.meetsThreshold(addrs, locktime.add(new bn_js_1.default(100)));
            expect(m4).toBe(true);
        });
    });
    describe("SECPTransferOutput", () => {
        const addrs = [
            bintools.cb58Decode("B6D4v1VtPYLbiUvYXtW4Px8oE9imC2vGW"),
            bintools.cb58Decode("P5wdRuZeaDt28eHMP5S3w9ZdoBfo7wuzF"),
            bintools.cb58Decode("6Y3kysjF9jnHnYkdS9yGAuoHyae2eNmeV")
        ].sort();
        const locktime = new bn_js_1.default(54321);
        const addrpay = [addrs[0], addrs[1]];
        const fallLocktime = locktime.add(new bn_js_1.default(50));
        test("SelectOutputClass", () => {
            const goodout = new outputs_1.SECPTransferOutput(new bn_js_1.default(2600), addrpay, fallLocktime, 1);
            const outpayment = (0, outputs_1.SelectOutputClass)(goodout.getOutputID());
            expect(outpayment).toBeInstanceOf(outputs_1.SECPTransferOutput);
            expect(() => {
                (0, outputs_1.SelectOutputClass)(99);
            }).toThrow("Error - SelectOutputClass: unknown outputid");
        });
        test("comparator", () => {
            const outpayment1 = new outputs_1.SECPTransferOutput(new bn_js_1.default(10000), addrs, locktime, 3);
            const outpayment2 = new outputs_1.SECPTransferOutput(new bn_js_1.default(10001), addrs, locktime, 3);
            const outpayment3 = new outputs_1.SECPTransferOutput(new bn_js_1.default(9999), addrs, locktime, 3);
            const cmp = output_1.Output.comparator();
            expect(cmp(outpayment1, outpayment1)).toBe(0);
            expect(cmp(outpayment2, outpayment2)).toBe(0);
            expect(cmp(outpayment3, outpayment3)).toBe(0);
            expect(cmp(outpayment1, outpayment2)).toBe(-1);
            expect(cmp(outpayment1, outpayment3)).toBe(1);
        });
        test("SECPTransferOutput", () => {
            const out = new outputs_1.SECPTransferOutput(new bn_js_1.default(10000), addrs, locktime, 3);
            expect(out.getOutputID()).toBe(7);
            expect(JSON.stringify(out.getAddresses().sort())).toStrictEqual(JSON.stringify(addrs.sort()));
            expect(out.getThreshold()).toBe(3);
            expect(out.getLocktime().toNumber()).toBe(locktime.toNumber());
            const r = out.getAddressIdx(addrs[2]);
            expect(out.getAddress(r)).toStrictEqual(addrs[2]);
            expect(() => {
                out.getAddress(400);
            }).toThrow();
            expect(out.getAmount().toNumber()).toBe(10000);
            const b = out.toBuffer();
            expect(out.toString()).toBe(bintools.bufferToB58(b));
            const s = out.getSpenders(addrs);
            expect(JSON.stringify(s.sort())).toBe(JSON.stringify(addrs.sort()));
            const m1 = out.meetsThreshold([addrs[0]]);
            expect(m1).toBe(false);
            const m2 = out.meetsThreshold(addrs, new bn_js_1.default(100));
            expect(m2).toBe(false);
            const m3 = out.meetsThreshold(addrs);
            expect(m3).toBe(true);
            const m4 = out.meetsThreshold(addrs, locktime.add(new bn_js_1.default(100)));
            expect(m4).toBe(true);
        });
        test("SECPTransferOutput codecIDs", () => {
            const secPTransferOutput = new outputs_1.SECPTransferOutput(new bn_js_1.default(10000), addrs, locktime, 3);
            expect(secPTransferOutput.getCodecID()).toBe(codecID_zero);
            expect(secPTransferOutput.getOutputID()).toBe(avm_1.AVMConstants.SECPXFEROUTPUTID);
            secPTransferOutput.setCodecID(codecID_one);
            expect(secPTransferOutput.getCodecID()).toBe(codecID_one);
            expect(secPTransferOutput.getOutputID()).toBe(avm_1.AVMConstants.SECPXFEROUTPUTID_CODECONE);
            secPTransferOutput.setCodecID(codecID_zero);
            expect(secPTransferOutput.getCodecID()).toBe(codecID_zero);
            expect(secPTransferOutput.getOutputID()).toBe(avm_1.AVMConstants.SECPXFEROUTPUTID);
        });
        test("Invalid SECPTransferOutput codecID", () => {
            const secPTransferOutput = new outputs_1.SECPTransferOutput(new bn_js_1.default(10000), addrs, locktime, 3);
            expect(() => {
                secPTransferOutput.setCodecID(2);
            }).toThrow("Error - SECPTransferOutput.setCodecID: invalid codecID. Valid codecIDs are 0 and 1.");
        });
        test("SECPMintOutput", () => {
            const out = new outputs_2.SECPMintOutput(addrs, locktime, 3);
            expect(out.getOutputID()).toBe(6);
            expect(JSON.stringify(out.getAddresses().sort())).toStrictEqual(JSON.stringify(addrs.sort()));
            expect(out.getThreshold()).toBe(3);
            expect(out.getLocktime().toNumber()).toBe(locktime.toNumber());
            const r = out.getAddressIdx(addrs[2]);
            expect(out.getAddress(r)).toStrictEqual(addrs[2]);
            expect(() => {
                out.getAddress(400);
            }).toThrow();
            const b = out.toBuffer();
            expect(out.toString()).toBe(bintools.bufferToB58(b));
            const s = out.getSpenders(addrs);
            expect(JSON.stringify(s.sort())).toBe(JSON.stringify(addrs.sort()));
            const m1 = out.meetsThreshold([addrs[0]]);
            expect(m1).toBe(false);
            const m2 = out.meetsThreshold(addrs, new bn_js_1.default(100));
            expect(m2).toBe(false);
            const m3 = out.meetsThreshold(addrs);
            expect(m3).toBe(true);
            const m4 = out.meetsThreshold(addrs, locktime.add(new bn_js_1.default(100)));
            expect(m4).toBe(true);
        });
        test("SECPMintOutput bad address", () => {
            const badAddress = buffer_1.Buffer.from("adfasdfsas", "hex");
            expect(() => {
                new outputs_2.SECPMintOutput([badAddress], locktime, 3);
            }).toThrow("Error - NBytes.fromBuffer: Error: Error - NBytes.fromBuffer: not enough space available in buffer.");
        });
        test("SECPMintOutput codecIDs", () => {
            const secpMintOutput = new outputs_2.SECPMintOutput(addrs, locktime, 3);
            expect(secpMintOutput.getCodecID()).toBe(codecID_zero);
            expect(secpMintOutput.getOutputID()).toBe(avm_1.AVMConstants.SECPMINTOUTPUTID);
            secpMintOutput.setCodecID(codecID_one);
            expect(secpMintOutput.getCodecID()).toBe(codecID_one);
            expect(secpMintOutput.getOutputID()).toBe(avm_1.AVMConstants.SECPMINTOUTPUTID_CODECONE);
            secpMintOutput.setCodecID(codecID_zero);
            expect(secpMintOutput.getCodecID()).toBe(codecID_zero);
            expect(secpMintOutput.getOutputID()).toBe(avm_1.AVMConstants.SECPMINTOUTPUTID);
        });
        test("Invalid SECPMintOutput codecID", () => {
            const secpMintOutput = new outputs_2.SECPMintOutput(addrs, locktime, 3);
            expect(() => {
                secpMintOutput.setCodecID(2);
            }).toThrow("Error - SECPMintOutput.setCodecID: invalid codecID. Valid codecIDs are 0 and 1.");
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3V0cHV0cy50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdGVzdHMvYXBpcy9hdm0vb3V0cHV0cy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsa0RBQXNCO0FBQ3RCLG9DQUFnQztBQUNoQywyRUFBa0Q7QUFDbEQsMkRBSXNDO0FBQ3RDLHVEQUFtRDtBQUNuRCwyREFBOEQ7QUFDOUQsK0NBQW9EO0FBRXBELE1BQU0sUUFBUSxHQUFhLGtCQUFRLENBQUMsV0FBVyxFQUFFLENBQUE7QUFFakQsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFTLEVBQUU7SUFDN0IsTUFBTSxZQUFZLEdBQVcsQ0FBQyxDQUFBO0lBQzlCLE1BQU0sV0FBVyxHQUFXLENBQUMsQ0FBQTtJQUM3QixRQUFRLENBQUMsZUFBZSxFQUFFLEdBQVMsRUFBRTtRQUNuQyxNQUFNLEtBQUssR0FBYTtZQUN0QixRQUFRLENBQUMsVUFBVSxDQUFDLG1DQUFtQyxDQUFDO1lBQ3hELFFBQVEsQ0FBQyxVQUFVLENBQUMsbUNBQW1DLENBQUM7WUFDeEQsUUFBUSxDQUFDLFVBQVUsQ0FBQyxtQ0FBbUMsQ0FBQztTQUN6RCxDQUFDLElBQUksRUFBRSxDQUFBO1FBRVIsTUFBTSxRQUFRLEdBQU8sSUFBSSxlQUFFLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbEMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDcEMsTUFBTSxZQUFZLEdBQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBRWpELElBQUksQ0FBQyxtQkFBbUIsRUFBRSxHQUFTLEVBQUU7WUFDbkMsTUFBTSxPQUFPLEdBQWtCLElBQUksdUJBQWEsQ0FDOUMsQ0FBQyxFQUNELE9BQU8sRUFDUCxZQUFZLEVBQ1osQ0FBQyxDQUNGLENBQUE7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QkFDVixjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQzlCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FDUixpRkFBaUYsQ0FDbEYsQ0FBQTtRQUNILENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCTiBmcm9tIFwiYm4uanNcIlxyXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyL1wiXHJcbmltcG9ydCBCaW5Ub29scyBmcm9tIFwiLi4vLi4vLi4vc3JjL3V0aWxzL2JpbnRvb2xzXCJcclxuaW1wb3J0IHtcclxuICBTRUNQVHJhbnNmZXJPdXRwdXQsXHJcbiAgU2VsZWN0T3V0cHV0Q2xhc3MsXHJcbiAgTkZUTWludE91dHB1dFxyXG59IGZyb20gXCIuLi8uLi8uLi9zcmMvYXBpcy9hdm0vb3V0cHV0c1wiXHJcbmltcG9ydCB7IE91dHB1dCB9IGZyb20gXCIuLi8uLi8uLi9zcmMvY29tbW9uL291dHB1dFwiXHJcbmltcG9ydCB7IFNFQ1BNaW50T3V0cHV0IH0gZnJvbSBcIi4uLy4uLy4uL3NyYy9hcGlzL2F2bS9vdXRwdXRzXCJcclxuaW1wb3J0IHsgQVZNQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uLy4uL3NyYy9hcGlzL2F2bVwiXHJcblxyXG5jb25zdCBiaW50b29sczogQmluVG9vbHMgPSBCaW5Ub29scy5nZXRJbnN0YW5jZSgpXHJcblxyXG5kZXNjcmliZShcIk91dHB1dHNcIiwgKCk6IHZvaWQgPT4ge1xyXG4gIGNvbnN0IGNvZGVjSURfemVybzogbnVtYmVyID0gMFxyXG4gIGNvbnN0IGNvZGVjSURfb25lOiBudW1iZXIgPSAxXHJcbiAgZGVzY3JpYmUoXCJORlRNaW50T3V0cHV0XCIsICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGFkZHJzOiBCdWZmZXJbXSA9IFtcclxuICAgICAgYmludG9vbHMuY2I1OERlY29kZShcIkI2RDR2MVZ0UFlMYmlVdllYdFc0UHg4b0U5aW1DMnZHV1wiKSxcclxuICAgICAgYmludG9vbHMuY2I1OERlY29kZShcIlA1d2RSdVplYUR0MjhlSE1QNVMzdzlaZG9CZm83d3V6RlwiKSxcclxuICAgICAgYmludG9vbHMuY2I1OERlY29kZShcIjZZM2t5c2pGOWpuSG5Za2RTOXlHQXVvSHlhZTJlTm1lVlwiKVxyXG4gICAgXS5zb3J0KClcclxuXHJcbiAgICBjb25zdCBsb2NrdGltZTogQk4gPSBuZXcgQk4oNTQzMjEpXHJcbiAgICBjb25zdCBhZGRycGF5ID0gW2FkZHJzWzBdLCBhZGRyc1sxXV1cclxuICAgIGNvbnN0IGZhbGxMb2NrdGltZTogQk4gPSBsb2NrdGltZS5hZGQobmV3IEJOKDUwKSlcclxuXHJcbiAgICB0ZXN0KFwiU2VsZWN0T3V0cHV0Q2xhc3NcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBnb29kb3V0OiBORlRNaW50T3V0cHV0ID0gbmV3IE5GVE1pbnRPdXRwdXQoXHJcbiAgICAgICAgMCxcclxuICAgICAgICBhZGRycGF5LFxyXG4gICAgICAgIGZhbGxMb2NrdGltZSxcclxuICAgICAgICAxXHJcbiAgICAgIClcclxuICAgICAgY29uc3Qgb3V0cGF5bWVudDogT3V0cHV0ID0gU2VsZWN0T3V0cHV0Q2xhc3MoZ29vZG91dC5nZXRPdXRwdXRJRCgpKVxyXG4gICAgICBleHBlY3Qob3V0cGF5bWVudCkudG9CZUluc3RhbmNlT2YoTkZUTWludE91dHB1dClcclxuICAgICAgZXhwZWN0KCgpOiB2b2lkID0+IHtcclxuICAgICAgICBTZWxlY3RPdXRwdXRDbGFzcyg5OSlcclxuICAgICAgfSkudG9UaHJvdyhcIkVycm9yIC0gU2VsZWN0T3V0cHV0Q2xhc3M6IHVua25vd24gb3V0cHV0aWRcIilcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcImNvbXBhcmF0b3JcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwYXltZW50MTogT3V0cHV0ID0gbmV3IE5GVE1pbnRPdXRwdXQoMSwgYWRkcnMsIGZhbGxMb2NrdGltZSwgMSlcclxuICAgICAgY29uc3Qgb3V0cGF5bWVudDI6IE91dHB1dCA9IG5ldyBORlRNaW50T3V0cHV0KDIsIGFkZHJzLCBmYWxsTG9ja3RpbWUsIDEpXHJcbiAgICAgIGNvbnN0IG91dHBheW1lbnQzOiBPdXRwdXQgPSBuZXcgTkZUTWludE91dHB1dCgwLCBhZGRycywgZmFsbExvY2t0aW1lLCAxKVxyXG4gICAgICBjb25zdCBjbXAgPSBPdXRwdXQuY29tcGFyYXRvcigpXHJcbiAgICAgIGV4cGVjdChjbXAob3V0cGF5bWVudDEsIG91dHBheW1lbnQxKSkudG9CZSgwKVxyXG4gICAgICBleHBlY3QoY21wKG91dHBheW1lbnQyLCBvdXRwYXltZW50MikpLnRvQmUoMClcclxuICAgICAgZXhwZWN0KGNtcChvdXRwYXltZW50Mywgb3V0cGF5bWVudDMpKS50b0JlKDApXHJcbiAgICAgIGV4cGVjdChjbXAob3V0cGF5bWVudDEsIG91dHBheW1lbnQyKSkudG9CZSgtMSlcclxuICAgICAgZXhwZWN0KGNtcChvdXRwYXltZW50MSwgb3V0cGF5bWVudDMpKS50b0JlKDEpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJORlRNaW50T3V0cHV0IGNvZGVjSURzXCIsICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3QgbmZ0TWludE91dHB1dDogTkZUTWludE91dHB1dCA9IG5ldyBORlRNaW50T3V0cHV0KFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgYWRkcnMsXHJcbiAgICAgICAgZmFsbExvY2t0aW1lLFxyXG4gICAgICAgIDFcclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KG5mdE1pbnRPdXRwdXQuZ2V0Q29kZWNJRCgpKS50b0JlKGNvZGVjSURfemVybylcclxuICAgICAgZXhwZWN0KG5mdE1pbnRPdXRwdXQuZ2V0T3V0cHV0SUQoKSkudG9CZShBVk1Db25zdGFudHMuTkZUTUlOVE9VVFBVVElEKVxyXG4gICAgICBuZnRNaW50T3V0cHV0LnNldENvZGVjSUQoY29kZWNJRF9vbmUpXHJcbiAgICAgIGV4cGVjdChuZnRNaW50T3V0cHV0LmdldENvZGVjSUQoKSkudG9CZShjb2RlY0lEX29uZSlcclxuICAgICAgZXhwZWN0KG5mdE1pbnRPdXRwdXQuZ2V0T3V0cHV0SUQoKSkudG9CZShcclxuICAgICAgICBBVk1Db25zdGFudHMuTkZUTUlOVE9VVFBVVElEX0NPREVDT05FXHJcbiAgICAgIClcclxuICAgICAgbmZ0TWludE91dHB1dC5zZXRDb2RlY0lEKGNvZGVjSURfemVybylcclxuICAgICAgZXhwZWN0KG5mdE1pbnRPdXRwdXQuZ2V0Q29kZWNJRCgpKS50b0JlKGNvZGVjSURfemVybylcclxuICAgICAgZXhwZWN0KG5mdE1pbnRPdXRwdXQuZ2V0T3V0cHV0SUQoKSkudG9CZShBVk1Db25zdGFudHMuTkZUTUlOVE9VVFBVVElEKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KFwiSW52YWxpZCBORlRNaW50T3V0cHV0IGNvZGVjSURcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBuZnRNaW50T3V0cHV0OiBORlRNaW50T3V0cHV0ID0gbmV3IE5GVE1pbnRPdXRwdXQoXHJcbiAgICAgICAgMSxcclxuICAgICAgICBhZGRycyxcclxuICAgICAgICBmYWxsTG9ja3RpbWUsXHJcbiAgICAgICAgMVxyXG4gICAgICApXHJcbiAgICAgIGV4cGVjdCgoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbmZ0TWludE91dHB1dC5zZXRDb2RlY0lEKDIpXHJcbiAgICAgIH0pLnRvVGhyb3coXHJcbiAgICAgICAgXCJFcnJvciAtIE5GVE1pbnRPdXRwdXQuc2V0Q29kZWNJRDogaW52YWxpZCBjb2RlY0lELiBWYWxpZCBjb2RlY0lEcyBhcmUgMCBhbmQgMS5cIlxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJGdW5jdGlvbmFsaXR5XCIsICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3Qgb3V0OiBORlRNaW50T3V0cHV0ID0gbmV3IE5GVE1pbnRPdXRwdXQoMCwgYWRkcnMsIGZhbGxMb2NrdGltZSwgMylcclxuICAgICAgZXhwZWN0KG91dC5nZXRPdXRwdXRJRCgpKS50b0JlKDEwKVxyXG4gICAgICBleHBlY3QoSlNPTi5zdHJpbmdpZnkob3V0LmdldEFkZHJlc3NlcygpLnNvcnQoKSkpLnRvU3RyaWN0RXF1YWwoXHJcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoYWRkcnMuc29ydCgpKVxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3Qob3V0LmdldFRocmVzaG9sZCgpKS50b0JlKDMpXHJcbiAgICAgIC8vIGV4cGVjdChvdXQuZ2V0TG9ja3RpbWUoKS50b051bWJlcigpKS50b0JlKGxvY2t0aW1lLnRvTnVtYmVyKCkpXHJcblxyXG4gICAgICBjb25zdCByID0gb3V0LmdldEFkZHJlc3NJZHgoYWRkcnNbMl0pXHJcbiAgICAgIGV4cGVjdChvdXQuZ2V0QWRkcmVzcyhyKSkudG9TdHJpY3RFcXVhbChhZGRyc1syXSlcclxuICAgICAgZXhwZWN0KCgpOiB2b2lkID0+IHtcclxuICAgICAgICBvdXQuZ2V0QWRkcmVzcyg0MDApXHJcbiAgICAgIH0pLnRvVGhyb3coKVxyXG5cclxuICAgICAgY29uc3QgYjogQnVmZmVyID0gb3V0LnRvQnVmZmVyKClcclxuICAgICAgZXhwZWN0KG91dC50b1N0cmluZygpKS50b0JlKGJpbnRvb2xzLmJ1ZmZlclRvQjU4KGIpKVxyXG5cclxuICAgICAgY29uc3QgczogQnVmZmVyW10gPSBvdXQuZ2V0U3BlbmRlcnMoYWRkcnMpXHJcbiAgICAgIGV4cGVjdChKU09OLnN0cmluZ2lmeShzLnNvcnQoKSkpLnRvQmUoSlNPTi5zdHJpbmdpZnkoYWRkcnMuc29ydCgpKSlcclxuXHJcbiAgICAgIGNvbnN0IG0xOiBib29sZWFuID0gb3V0Lm1lZXRzVGhyZXNob2xkKFthZGRyc1swXV0pXHJcbiAgICAgIGV4cGVjdChtMSkudG9CZShmYWxzZSlcclxuICAgICAgY29uc3QgbTI6IGJvb2xlYW4gPSBvdXQubWVldHNUaHJlc2hvbGQoYWRkcnMsIG5ldyBCTigxMDApKVxyXG4gICAgICBleHBlY3QobTIpLnRvQmUoZmFsc2UpXHJcbiAgICAgIGNvbnN0IG0zOiBib29sZWFuID0gb3V0Lm1lZXRzVGhyZXNob2xkKGFkZHJzKVxyXG4gICAgICBleHBlY3QobTMpLnRvQmUodHJ1ZSlcclxuICAgICAgY29uc3QgbTQ6IGJvb2xlYW4gPSBvdXQubWVldHNUaHJlc2hvbGQoYWRkcnMsIGxvY2t0aW1lLmFkZChuZXcgQk4oMTAwKSkpXHJcbiAgICAgIGV4cGVjdChtNCkudG9CZSh0cnVlKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZShcIlNFQ1BUcmFuc2Zlck91dHB1dFwiLCAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBhZGRyczogQnVmZmVyW10gPSBbXHJcbiAgICAgIGJpbnRvb2xzLmNiNThEZWNvZGUoXCJCNkQ0djFWdFBZTGJpVXZZWHRXNFB4OG9FOWltQzJ2R1dcIiksXHJcbiAgICAgIGJpbnRvb2xzLmNiNThEZWNvZGUoXCJQNXdkUnVaZWFEdDI4ZUhNUDVTM3c5WmRvQmZvN3d1ekZcIiksXHJcbiAgICAgIGJpbnRvb2xzLmNiNThEZWNvZGUoXCI2WTNreXNqRjlqbkhuWWtkUzl5R0F1b0h5YWUyZU5tZVZcIilcclxuICAgIF0uc29ydCgpXHJcblxyXG4gICAgY29uc3QgbG9ja3RpbWU6IEJOID0gbmV3IEJOKDU0MzIxKVxyXG4gICAgY29uc3QgYWRkcnBheTogQnVmZmVyW10gPSBbYWRkcnNbMF0sIGFkZHJzWzFdXVxyXG4gICAgY29uc3QgZmFsbExvY2t0aW1lOiBCTiA9IGxvY2t0aW1lLmFkZChuZXcgQk4oNTApKVxyXG5cclxuICAgIHRlc3QoXCJTZWxlY3RPdXRwdXRDbGFzc1wiLCAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnN0IGdvb2RvdXQ6IFNFQ1BUcmFuc2Zlck91dHB1dCA9IG5ldyBTRUNQVHJhbnNmZXJPdXRwdXQoXHJcbiAgICAgICAgbmV3IEJOKDI2MDApLFxyXG4gICAgICAgIGFkZHJwYXksXHJcbiAgICAgICAgZmFsbExvY2t0aW1lLFxyXG4gICAgICAgIDFcclxuICAgICAgKVxyXG4gICAgICBjb25zdCBvdXRwYXltZW50OiBPdXRwdXQgPSBTZWxlY3RPdXRwdXRDbGFzcyhnb29kb3V0LmdldE91dHB1dElEKCkpXHJcbiAgICAgIGV4cGVjdChvdXRwYXltZW50KS50b0JlSW5zdGFuY2VPZihTRUNQVHJhbnNmZXJPdXRwdXQpXHJcbiAgICAgIGV4cGVjdCgoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgU2VsZWN0T3V0cHV0Q2xhc3MoOTkpXHJcbiAgICAgIH0pLnRvVGhyb3coXCJFcnJvciAtIFNlbGVjdE91dHB1dENsYXNzOiB1bmtub3duIG91dHB1dGlkXCIpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJjb21wYXJhdG9yXCIsICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3Qgb3V0cGF5bWVudDE6IE91dHB1dCA9IG5ldyBTRUNQVHJhbnNmZXJPdXRwdXQoXHJcbiAgICAgICAgbmV3IEJOKDEwMDAwKSxcclxuICAgICAgICBhZGRycyxcclxuICAgICAgICBsb2NrdGltZSxcclxuICAgICAgICAzXHJcbiAgICAgIClcclxuICAgICAgY29uc3Qgb3V0cGF5bWVudDI6IE91dHB1dCA9IG5ldyBTRUNQVHJhbnNmZXJPdXRwdXQoXHJcbiAgICAgICAgbmV3IEJOKDEwMDAxKSxcclxuICAgICAgICBhZGRycyxcclxuICAgICAgICBsb2NrdGltZSxcclxuICAgICAgICAzXHJcbiAgICAgIClcclxuICAgICAgY29uc3Qgb3V0cGF5bWVudDM6IE91dHB1dCA9IG5ldyBTRUNQVHJhbnNmZXJPdXRwdXQoXHJcbiAgICAgICAgbmV3IEJOKDk5OTkpLFxyXG4gICAgICAgIGFkZHJzLFxyXG4gICAgICAgIGxvY2t0aW1lLFxyXG4gICAgICAgIDNcclxuICAgICAgKVxyXG4gICAgICBjb25zdCBjbXAgPSBPdXRwdXQuY29tcGFyYXRvcigpXHJcbiAgICAgIGV4cGVjdChjbXAob3V0cGF5bWVudDEsIG91dHBheW1lbnQxKSkudG9CZSgwKVxyXG4gICAgICBleHBlY3QoY21wKG91dHBheW1lbnQyLCBvdXRwYXltZW50MikpLnRvQmUoMClcclxuICAgICAgZXhwZWN0KGNtcChvdXRwYXltZW50Mywgb3V0cGF5bWVudDMpKS50b0JlKDApXHJcbiAgICAgIGV4cGVjdChjbXAob3V0cGF5bWVudDEsIG91dHBheW1lbnQyKSkudG9CZSgtMSlcclxuICAgICAgZXhwZWN0KGNtcChvdXRwYXltZW50MSwgb3V0cGF5bWVudDMpKS50b0JlKDEpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJTRUNQVHJhbnNmZXJPdXRwdXRcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBvdXQ6IFNFQ1BUcmFuc2Zlck91dHB1dCA9IG5ldyBTRUNQVHJhbnNmZXJPdXRwdXQoXHJcbiAgICAgICAgbmV3IEJOKDEwMDAwKSxcclxuICAgICAgICBhZGRycyxcclxuICAgICAgICBsb2NrdGltZSxcclxuICAgICAgICAzXHJcbiAgICAgIClcclxuICAgICAgZXhwZWN0KG91dC5nZXRPdXRwdXRJRCgpKS50b0JlKDcpXHJcbiAgICAgIGV4cGVjdChKU09OLnN0cmluZ2lmeShvdXQuZ2V0QWRkcmVzc2VzKCkuc29ydCgpKSkudG9TdHJpY3RFcXVhbChcclxuICAgICAgICBKU09OLnN0cmluZ2lmeShhZGRycy5zb3J0KCkpXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChvdXQuZ2V0VGhyZXNob2xkKCkpLnRvQmUoMylcclxuICAgICAgZXhwZWN0KG91dC5nZXRMb2NrdGltZSgpLnRvTnVtYmVyKCkpLnRvQmUobG9ja3RpbWUudG9OdW1iZXIoKSlcclxuXHJcbiAgICAgIGNvbnN0IHI6IG51bWJlciA9IG91dC5nZXRBZGRyZXNzSWR4KGFkZHJzWzJdKVxyXG4gICAgICBleHBlY3Qob3V0LmdldEFkZHJlc3MocikpLnRvU3RyaWN0RXF1YWwoYWRkcnNbMl0pXHJcbiAgICAgIGV4cGVjdCgoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgb3V0LmdldEFkZHJlc3MoNDAwKVxyXG4gICAgICB9KS50b1Rocm93KClcclxuXHJcbiAgICAgIGV4cGVjdChvdXQuZ2V0QW1vdW50KCkudG9OdW1iZXIoKSkudG9CZSgxMDAwMClcclxuXHJcbiAgICAgIGNvbnN0IGI6IEJ1ZmZlciA9IG91dC50b0J1ZmZlcigpXHJcbiAgICAgIGV4cGVjdChvdXQudG9TdHJpbmcoKSkudG9CZShiaW50b29scy5idWZmZXJUb0I1OChiKSlcclxuXHJcbiAgICAgIGNvbnN0IHM6IEJ1ZmZlcltdID0gb3V0LmdldFNwZW5kZXJzKGFkZHJzKVxyXG4gICAgICBleHBlY3QoSlNPTi5zdHJpbmdpZnkocy5zb3J0KCkpKS50b0JlKEpTT04uc3RyaW5naWZ5KGFkZHJzLnNvcnQoKSkpXHJcblxyXG4gICAgICBjb25zdCBtMTogYm9vbGVhbiA9IG91dC5tZWV0c1RocmVzaG9sZChbYWRkcnNbMF1dKVxyXG4gICAgICBleHBlY3QobTEpLnRvQmUoZmFsc2UpXHJcbiAgICAgIGNvbnN0IG0yOiBib29sZWFuID0gb3V0Lm1lZXRzVGhyZXNob2xkKGFkZHJzLCBuZXcgQk4oMTAwKSlcclxuICAgICAgZXhwZWN0KG0yKS50b0JlKGZhbHNlKVxyXG4gICAgICBjb25zdCBtMzogYm9vbGVhbiA9IG91dC5tZWV0c1RocmVzaG9sZChhZGRycylcclxuICAgICAgZXhwZWN0KG0zKS50b0JlKHRydWUpXHJcbiAgICAgIGNvbnN0IG00OiBib29sZWFuID0gb3V0Lm1lZXRzVGhyZXNob2xkKGFkZHJzLCBsb2NrdGltZS5hZGQobmV3IEJOKDEwMCkpKVxyXG4gICAgICBleHBlY3QobTQpLnRvQmUodHJ1ZSlcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcIlNFQ1BUcmFuc2Zlck91dHB1dCBjb2RlY0lEc1wiLCAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnN0IHNlY1BUcmFuc2Zlck91dHB1dDogU0VDUFRyYW5zZmVyT3V0cHV0ID0gbmV3IFNFQ1BUcmFuc2Zlck91dHB1dChcclxuICAgICAgICBuZXcgQk4oMTAwMDApLFxyXG4gICAgICAgIGFkZHJzLFxyXG4gICAgICAgIGxvY2t0aW1lLFxyXG4gICAgICAgIDNcclxuICAgICAgKVxyXG4gICAgICBleHBlY3Qoc2VjUFRyYW5zZmVyT3V0cHV0LmdldENvZGVjSUQoKSkudG9CZShjb2RlY0lEX3plcm8pXHJcbiAgICAgIGV4cGVjdChzZWNQVHJhbnNmZXJPdXRwdXQuZ2V0T3V0cHV0SUQoKSkudG9CZShcclxuICAgICAgICBBVk1Db25zdGFudHMuU0VDUFhGRVJPVVRQVVRJRFxyXG4gICAgICApXHJcbiAgICAgIHNlY1BUcmFuc2Zlck91dHB1dC5zZXRDb2RlY0lEKGNvZGVjSURfb25lKVxyXG4gICAgICBleHBlY3Qoc2VjUFRyYW5zZmVyT3V0cHV0LmdldENvZGVjSUQoKSkudG9CZShjb2RlY0lEX29uZSlcclxuICAgICAgZXhwZWN0KHNlY1BUcmFuc2Zlck91dHB1dC5nZXRPdXRwdXRJRCgpKS50b0JlKFxyXG4gICAgICAgIEFWTUNvbnN0YW50cy5TRUNQWEZFUk9VVFBVVElEX0NPREVDT05FXHJcbiAgICAgIClcclxuICAgICAgc2VjUFRyYW5zZmVyT3V0cHV0LnNldENvZGVjSUQoY29kZWNJRF96ZXJvKVxyXG4gICAgICBleHBlY3Qoc2VjUFRyYW5zZmVyT3V0cHV0LmdldENvZGVjSUQoKSkudG9CZShjb2RlY0lEX3plcm8pXHJcbiAgICAgIGV4cGVjdChzZWNQVHJhbnNmZXJPdXRwdXQuZ2V0T3V0cHV0SUQoKSkudG9CZShcclxuICAgICAgICBBVk1Db25zdGFudHMuU0VDUFhGRVJPVVRQVVRJRFxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJJbnZhbGlkIFNFQ1BUcmFuc2Zlck91dHB1dCBjb2RlY0lEXCIsICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3Qgc2VjUFRyYW5zZmVyT3V0cHV0OiBTRUNQVHJhbnNmZXJPdXRwdXQgPSBuZXcgU0VDUFRyYW5zZmVyT3V0cHV0KFxyXG4gICAgICAgIG5ldyBCTigxMDAwMCksXHJcbiAgICAgICAgYWRkcnMsXHJcbiAgICAgICAgbG9ja3RpbWUsXHJcbiAgICAgICAgM1xyXG4gICAgICApXHJcbiAgICAgIGV4cGVjdCgoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc2VjUFRyYW5zZmVyT3V0cHV0LnNldENvZGVjSUQoMilcclxuICAgICAgfSkudG9UaHJvdyhcclxuICAgICAgICBcIkVycm9yIC0gU0VDUFRyYW5zZmVyT3V0cHV0LnNldENvZGVjSUQ6IGludmFsaWQgY29kZWNJRC4gVmFsaWQgY29kZWNJRHMgYXJlIDAgYW5kIDEuXCJcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KFwiU0VDUE1pbnRPdXRwdXRcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBvdXQ6IFNFQ1BNaW50T3V0cHV0ID0gbmV3IFNFQ1BNaW50T3V0cHV0KGFkZHJzLCBsb2NrdGltZSwgMylcclxuICAgICAgZXhwZWN0KG91dC5nZXRPdXRwdXRJRCgpKS50b0JlKDYpXHJcbiAgICAgIGV4cGVjdChKU09OLnN0cmluZ2lmeShvdXQuZ2V0QWRkcmVzc2VzKCkuc29ydCgpKSkudG9TdHJpY3RFcXVhbChcclxuICAgICAgICBKU09OLnN0cmluZ2lmeShhZGRycy5zb3J0KCkpXHJcbiAgICAgIClcclxuICAgICAgZXhwZWN0KG91dC5nZXRUaHJlc2hvbGQoKSkudG9CZSgzKVxyXG4gICAgICBleHBlY3Qob3V0LmdldExvY2t0aW1lKCkudG9OdW1iZXIoKSkudG9CZShsb2NrdGltZS50b051bWJlcigpKVxyXG4gICAgICBjb25zdCByOiBudW1iZXIgPSBvdXQuZ2V0QWRkcmVzc0lkeChhZGRyc1syXSlcclxuICAgICAgZXhwZWN0KG91dC5nZXRBZGRyZXNzKHIpKS50b1N0cmljdEVxdWFsKGFkZHJzWzJdKVxyXG4gICAgICBleHBlY3QoKCkgPT4ge1xyXG4gICAgICAgIG91dC5nZXRBZGRyZXNzKDQwMClcclxuICAgICAgfSkudG9UaHJvdygpXHJcbiAgICAgIGNvbnN0IGI6IEJ1ZmZlciA9IG91dC50b0J1ZmZlcigpXHJcbiAgICAgIGV4cGVjdChvdXQudG9TdHJpbmcoKSkudG9CZShiaW50b29scy5idWZmZXJUb0I1OChiKSlcclxuICAgICAgY29uc3QgczogQnVmZmVyW10gPSBvdXQuZ2V0U3BlbmRlcnMoYWRkcnMpXHJcbiAgICAgIGV4cGVjdChKU09OLnN0cmluZ2lmeShzLnNvcnQoKSkpLnRvQmUoSlNPTi5zdHJpbmdpZnkoYWRkcnMuc29ydCgpKSlcclxuICAgICAgY29uc3QgbTE6IGJvb2xlYW4gPSBvdXQubWVldHNUaHJlc2hvbGQoW2FkZHJzWzBdXSlcclxuICAgICAgZXhwZWN0KG0xKS50b0JlKGZhbHNlKVxyXG4gICAgICBjb25zdCBtMjogYm9vbGVhbiA9IG91dC5tZWV0c1RocmVzaG9sZChhZGRycywgbmV3IEJOKDEwMCkpXHJcbiAgICAgIGV4cGVjdChtMikudG9CZShmYWxzZSlcclxuICAgICAgY29uc3QgbTM6IGJvb2xlYW4gPSBvdXQubWVldHNUaHJlc2hvbGQoYWRkcnMpXHJcbiAgICAgIGV4cGVjdChtMykudG9CZSh0cnVlKVxyXG4gICAgICBjb25zdCBtNDogYm9vbGVhbiA9IG91dC5tZWV0c1RocmVzaG9sZChhZGRycywgbG9ja3RpbWUuYWRkKG5ldyBCTigxMDApKSlcclxuICAgICAgZXhwZWN0KG00KS50b0JlKHRydWUpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoXCJTRUNQTWludE91dHB1dCBiYWQgYWRkcmVzc1wiLCAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnN0IGJhZEFkZHJlc3MgPSBCdWZmZXIuZnJvbShcImFkZmFzZGZzYXNcIiwgXCJoZXhcIilcclxuXHJcbiAgICAgIGV4cGVjdCgoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbmV3IFNFQ1BNaW50T3V0cHV0KFtiYWRBZGRyZXNzXSwgbG9ja3RpbWUsIDMpXHJcbiAgICAgIH0pLnRvVGhyb3coXHJcbiAgICAgICAgXCJFcnJvciAtIE5CeXRlcy5mcm9tQnVmZmVyOiBFcnJvcjogRXJyb3IgLSBOQnl0ZXMuZnJvbUJ1ZmZlcjogbm90IGVub3VnaCBzcGFjZSBhdmFpbGFibGUgaW4gYnVmZmVyLlwiXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcIlNFQ1BNaW50T3V0cHV0IGNvZGVjSURzXCIsICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3Qgc2VjcE1pbnRPdXRwdXQ6IFNFQ1BNaW50T3V0cHV0ID0gbmV3IFNFQ1BNaW50T3V0cHV0KFxyXG4gICAgICAgIGFkZHJzLFxyXG4gICAgICAgIGxvY2t0aW1lLFxyXG4gICAgICAgIDNcclxuICAgICAgKVxyXG4gICAgICBleHBlY3Qoc2VjcE1pbnRPdXRwdXQuZ2V0Q29kZWNJRCgpKS50b0JlKGNvZGVjSURfemVybylcclxuICAgICAgZXhwZWN0KHNlY3BNaW50T3V0cHV0LmdldE91dHB1dElEKCkpLnRvQmUoQVZNQ29uc3RhbnRzLlNFQ1BNSU5UT1VUUFVUSUQpXHJcbiAgICAgIHNlY3BNaW50T3V0cHV0LnNldENvZGVjSUQoY29kZWNJRF9vbmUpXHJcbiAgICAgIGV4cGVjdChzZWNwTWludE91dHB1dC5nZXRDb2RlY0lEKCkpLnRvQmUoY29kZWNJRF9vbmUpXHJcbiAgICAgIGV4cGVjdChzZWNwTWludE91dHB1dC5nZXRPdXRwdXRJRCgpKS50b0JlKFxyXG4gICAgICAgIEFWTUNvbnN0YW50cy5TRUNQTUlOVE9VVFBVVElEX0NPREVDT05FXHJcbiAgICAgIClcclxuICAgICAgc2VjcE1pbnRPdXRwdXQuc2V0Q29kZWNJRChjb2RlY0lEX3plcm8pXHJcbiAgICAgIGV4cGVjdChzZWNwTWludE91dHB1dC5nZXRDb2RlY0lEKCkpLnRvQmUoY29kZWNJRF96ZXJvKVxyXG4gICAgICBleHBlY3Qoc2VjcE1pbnRPdXRwdXQuZ2V0T3V0cHV0SUQoKSkudG9CZShBVk1Db25zdGFudHMuU0VDUE1JTlRPVVRQVVRJRClcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdChcIkludmFsaWQgU0VDUE1pbnRPdXRwdXQgY29kZWNJRFwiLCAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnN0IHNlY3BNaW50T3V0cHV0OiBTRUNQTWludE91dHB1dCA9IG5ldyBTRUNQTWludE91dHB1dChcclxuICAgICAgICBhZGRycyxcclxuICAgICAgICBsb2NrdGltZSxcclxuICAgICAgICAzXHJcbiAgICAgIClcclxuICAgICAgZXhwZWN0KCgpID0+IHtcclxuICAgICAgICBzZWNwTWludE91dHB1dC5zZXRDb2RlY0lEKDIpXHJcbiAgICAgIH0pLnRvVGhyb3coXHJcbiAgICAgICAgXCJFcnJvciAtIFNFQ1BNaW50T3V0cHV0LnNldENvZGVjSUQ6IGludmFsaWQgY29kZWNJRC4gVmFsaWQgY29kZWNJRHMgYXJlIDAgYW5kIDEuXCJcclxuICAgICAgKVxyXG4gICAgfSlcclxuICB9KVxyXG59KVxyXG4iXX0=